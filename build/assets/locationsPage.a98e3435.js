import{bs as U,aE as J,F as B,H as D,a as $,d as v,e,O as a,f as t,z as o,K as _,Z as L,J as k,L as F,M as P,B as z,dw as T,aG as M,r as w,aI as E,aJ as A,aL as G,s as R,bt as N,$ as H,G as K,o as Z,az as W,u as X}from"./index.98f545c8.js";import{Q as Y,a as V,b as x,c as q}from"./QTabPanels.25700896.js";import{u as ee}from"./use-meta.f37184b0.js";import{Q as O}from"./QMarkupTable.f6a05e30.js";import{u as I}from"./use-quasar.483070a3.js";import{Q}from"./QPagination.a03fbf88.js";import{a as j}from"./QSelect.2256935e.js";import"./QResizeObserver.4c0b85a0.js";import"./QChip.fa8d0a1f.js";import"./QItem.e51bf348.js";import"./QItemLabel.c62d8aea.js";import"./position-engine.80a4ba5e.js";const le={class:"flex justify-between"},te={class:"text-h6"},ne={class:"bg-blue-grey-2"},oe={__name:"divisionTable",setup(C){const p=I(),{t:m}=U(),n=J(),{divisionList:f}=B(n),g=D(),S=r=>{n.divisionInfo.id=r._id,p.dialog({title:m("confirm"),message:m("confirm_delete_start")+(r==null?void 0:r.name[g.language])+m("confirm_delete_end"),cancel:!0,persistent:!0}).onOk(()=>{n.deleteDivision()})};return(r,h)=>($(),v("div",null,[e("div",le,[e("div",te,a(r.$t("location.divisionList")),1),t(_,{class:"btn-h-22",color:"positive",label:r.$t("addnew"),icon:"add",dense:"",glossy:"",size:"sm",onClick:h[0]||(h[0]=l=>o(n).openDivisionCreateDialog=!0)},null,8,["label"])]),t(L,{class:"q-my-sm"}),t(O,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:k(()=>{var l;return[e("thead",ne,[e("tr",null,[e("th",null,a(r.$t("serial")),1),e("th",null,a(r.$t("location.division")),1),e("th",null,a(r.$t("action")),1)])]),e("tbody",null,[($(!0),v(F,null,P((l=o(f))==null?void 0:l.divisions,(b,c)=>($(),v("tr",{key:c,class:z({"bg-blue-grey-1":c%2!=0})},[e("td",null,a(o(T)(String(c+1),o(g).language)),1),e("td",null,a(b==null?void 0:b.name[o(g).language]),1),e("td",null,[t(_,{label:r.$t("edit"),size:"sm",dense:"",glossy:"",color:"positive",onClick:u=>o(n).openDivisionEditDialogManager(b)},null,8,["label","onClick"]),t(_,{class:"q-ml-xs",label:r.$t("delete"),size:"sm",dense:"",glossy:"",color:"negative",onClick:u=>S(b)},null,8,["label","onClick"])])],2))),128))])]}),_:1})]))}},se={class:"flex justify-between"},ae={class:"text-h6"},ie={class:"bg-blue-grey-2"},re={__name:"districtTable",setup(C){const p=I(),{t:m}=U(),n=M(),{districtList:f}=B(n),g=D(),S=l=>{n.districtInfo.id=l._id,p.dialog({title:m("confirm"),message:m("confirm_delete_start")+(l==null?void 0:l.name[g.language])+m("confirm_delete_end"),cancel:!0,persistent:!0}).onOk(()=>{n.deleteDistrict()})},r=w(1),h=()=>{n.districtPage=r.value,n.getDistrictList()};return(l,b)=>{var c;return $(),v("div",null,[e("div",se,[e("div",ae,a(l.$t("location.districtList")),1),t(_,{class:"btn-h-22",color:"positive",label:l.$t("addnew"),icon:"add",dense:"",glossy:"",size:"sm",onClick:b[0]||(b[0]=u=>o(n).openDistrictCreateDialog=!0)},null,8,["label"])]),t(L,{class:"q-my-sm"}),t(O,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:k(()=>{var u;return[e("thead",ie,[e("tr",null,[e("th",null,a(l.$t("serial")),1),e("th",null,a(l.$t("location.district")),1),e("th",null,a(l.$t("location.division")),1),e("th",null,a(l.$t("action")),1)])]),e("tbody",null,[($(!0),v(F,null,P((u=o(f))==null?void 0:u.districts,(s,d)=>{var i;return $(),v("tr",{key:d,class:z({"bg-blue-grey-1":d%2!=0})},[e("td",null,a(o(T)(String(d+1),o(g).language)),1),e("td",null,a(s==null?void 0:s.name[o(g).language]),1),e("td",null,a((i=s.parent)==null?void 0:i.name[o(g).language]),1),e("td",null,[t(_,{label:l.$t("edit"),size:"sm",dense:"",glossy:"",color:"positive",onClick:y=>o(n).openDistrictEditDialogManager(s)},null,8,["label","onClick"]),t(_,{class:"q-ml-xs",label:l.$t("delete"),size:"sm",dense:"",glossy:"",color:"negative",onClick:y=>S(s)},null,8,["label","onClick"])])],2)}),128))])]}),_:1}),t(L,{class:"q-mt-md"}),t(Q,{class:"q-mt-md",color:"blue-grey-7",modelValue:r.value,"onUpdate:modelValue":[b[1]||(b[1]=u=>r.value=u),h],max:(c=o(n).districtList)==null?void 0:c.pages,"max-pages":6,"boundary-numbers":""},null,8,["modelValue","max"])])}}},ue={class:"flex justify-between"},ce={class:"text-h6"},de={class:"bg-blue-grey-2"},me={__name:"subDistrictTable",setup(C){const p=I(),{t:m}=U(),n=E(),{subDistrictList:f}=B(n),g=D(),S=l=>{n.subDistrictInfo.id=l._id,p.dialog({title:m("confirm"),message:m("confirm_delete_start")+(l==null?void 0:l.name[g.language])+m("confirm_delete_end"),cancel:!0,persistent:!0}).onOk(()=>{n.deleteSubDistrict()})},r=w(1),h=()=>{n.subDistrictPage=r.value,n.getSubDistrictList()};return(l,b)=>{var c;return $(),v("div",null,[e("div",ue,[e("div",ce,a(l.$t("location.subdistrictList")),1),t(_,{class:"btn-h-22",color:"positive",label:l.$t("addnew"),icon:"add",dense:"",glossy:"",size:"sm",onClick:b[0]||(b[0]=u=>o(n).openSubDistrictCreateDialog=!0)},null,8,["label"])]),t(L,{class:"q-my-sm"}),t(O,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:k(()=>{var u;return[e("thead",de,[e("tr",null,[e("th",null,a(l.$t("serial")),1),e("th",null,a(l.$t("location.subdistrict")),1),e("th",null,a(l.$t("location.district")),1),e("th",null,a(l.$t("action")),1)])]),e("tbody",null,[($(!0),v(F,null,P((u=o(f))==null?void 0:u.subDistricts,(s,d)=>{var i;return $(),v("tr",{key:d,class:z({"bg-blue-grey-1":d%2!=0})},[e("td",null,a(o(T)(String(d+1),o(g).language)),1),e("td",null,a(s==null?void 0:s.name[o(g).language]),1),e("td",null,a((i=s.parent)==null?void 0:i.name[o(g).language]),1),e("td",null,[t(_,{label:l.$t("edit"),size:"sm",dense:"",glossy:"",color:"positive",onClick:y=>o(n).openSubDistrictEditDialogManager(s)},null,8,["label","onClick"]),t(_,{class:"q-ml-xs",label:l.$t("delete"),size:"sm",dense:"",glossy:"",color:"negative",onClick:y=>S(s)},null,8,["label","onClick"])])],2)}),128))])]}),_:1}),t(L,{class:"q-mt-md"}),t(Q,{class:"q-mt-md",color:"blue-grey-7",modelValue:r.value,"onUpdate:modelValue":[b[1]||(b[1]=u=>r.value=u),h],max:(c=o(f))==null?void 0:c.pages,"max-pages":6,"boundary-numbers":""},null,8,["modelValue","max"])])}}},ge={class:"flex justify-between"},be={class:"text-h6"},pe={class:"bg-blue-grey-2"},fe={__name:"unionTable",setup(C){const p=I(),{t:m}=U(),n=A(),{unionList:f}=B(n),g=D(),S=l=>{n.unionInfo.id=l._id,p.dialog({title:m("confirm"),message:m("confirm_delete_start")+(l==null?void 0:l.name[g.language])+m("confirm_delete_end"),cancel:!0,persistent:!0}).onOk(()=>{n.deleteUnion()})},r=w(1),h=()=>{n.unionPage=r.value,n.getUnionListFromServer()};return(l,b)=>{var c;return $(),v("div",null,[e("div",ge,[e("div",be,a(l.$t("location.unionList")),1),t(_,{class:"btn-h-22",color:"positive",label:l.$t("addnew"),icon:"add",dense:"",glossy:"",size:"sm",onClick:b[0]||(b[0]=u=>o(n).openUnionCreateDialog=!0)},null,8,["label"])]),t(L,{class:"q-my-sm"}),t(O,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:k(()=>{var u;return[e("thead",pe,[e("tr",null,[e("th",null,a(l.$t("serial")),1),e("th",null,a(l.$t("location.union")),1),e("th",null,a(l.$t("location.subdistrict")),1),e("th",null,a(l.$t("action")),1)])]),e("tbody",null,[($(!0),v(F,null,P((u=o(f))==null?void 0:u.unions,(s,d)=>{var i;return $(),v("tr",{key:d,class:z({"bg-blue-grey-1":d%2!=0})},[e("td",null,a(o(T)(String(d+1),o(g).language)),1),e("td",null,a(s==null?void 0:s.name[o(g).language]),1),e("td",null,a((i=s.parent)==null?void 0:i.name[o(g).language]),1),e("td",null,[t(_,{label:l.$t("edit"),size:"sm",dense:"",glossy:"",color:"positive",key:"",onClick:y=>o(n).openUnionEditDialogManager(s)},null,8,["label","onClick"]),t(_,{class:"q-ml-xs",label:l.$t("delete"),size:"sm",dense:"",glossy:"",color:"negative",onClick:y=>S(s)},null,8,["label","onClick"])])],2)}),128))])]}),_:1}),t(L,{class:"q-mt-md"}),t(Q,{class:"q-mt-md",color:"blue-grey-7",modelValue:r.value,"onUpdate:modelValue":[b[1]||(b[1]=u=>r.value=u),h],max:(c=o(n).unionList)==null?void 0:c.pages,"max-pages":6,"boundary-numbers":""},null,8,["modelValue","max"])])}}},$e={class:"flex justify-between"},ve={class:"text-h6"},ye={class:"bg-blue-grey-2"},_e={__name:"pinLocationTable",setup(C){const p=I(),{t:m}=U(),n=G(),{pinlocationList:f}=B(n),g=D(),S=l=>{n.pinlocationInfo.id=l._id,p.dialog({title:m("confirm"),message:m("confirm_delete_start")+(l==null?void 0:l.name[g.language])+m("confirm_delete_end"),cancel:!0,persistent:!0}).onOk(()=>{n.deletePinlocation()})},r=w(1),h=()=>{n.pinlocationPage=r.value,n.getPinlocationList()};return(l,b)=>{var c;return $(),v("div",null,[e("div",$e,[e("div",ve,a(l.$t("location.pinlocationList")),1),t(_,{class:"btn-h-22",color:"positive",label:l.$t("addnew"),icon:"add",dense:"",glossy:"",size:"sm",onClick:b[0]||(b[0]=u=>o(n).openPinlocationCreateDialog=!0)},null,8,["label"])]),t(L,{class:"q-my-sm"}),t(O,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:k(()=>{var u;return[e("thead",ye,[e("tr",null,[e("th",null,a(l.$t("serial")),1),e("th",null,a(l.$t("location.union")),1),e("th",null,a(l.$t("location.pinlocation")),1),e("th",null,a(l.$t("action")),1)])]),e("tbody",null,[($(!0),v(F,null,P((u=o(f))==null?void 0:u.pinlocations,(s,d)=>{var i;return $(),v("tr",{key:d,class:z({"bg-blue-grey-1":d%2!=0})},[e("td",null,a(o(T)(String(d+1),o(g).language)),1),e("td",null,a((i=s.parent)==null?void 0:i.name[o(g).language]),1),e("td",null,a(s==null?void 0:s.name[o(g).language]),1),e("td",null,[t(_,{label:l.$t("edit"),size:"sm",dense:"",glossy:"",color:"positive",onClick:y=>o(n).openPinlocationEditDialogManager(s)},null,8,["label","onClick"]),t(_,{class:"q-ml-xs",label:l.$t("delete"),size:"sm",dense:"",glossy:"",color:"negative",onClick:y=>S(s)},null,8,["label","onClick"])])],2)}),128))])]}),_:1}),t(L,{class:"q-mt-md"}),t(Q,{class:"q-mt-md",color:"blue-grey-7",modelValue:r.value,"onUpdate:modelValue":[b[1]||(b[1]=u=>r.value=u),h],max:(c=o(n).pinlocationList)==null?void 0:c.pages,"max-pages":6,"boundary-numbers":""},null,8,["modelValue","max"])])}}},he={class:"row q-col-gutter-sm"},Se={class:"col-lg-4 col-md-4 col-sm-4 col-xs-6 col-6"},ke={class:"col-lg-4 col-md-4 col-sm-4 col-xs-6 col-6"},Le={class:"col-lg-4 col-md-4 col-sm-4 col-xs-6 col-6"},we={__name:"locationFilter",setup(C){R("browsing-location",{});const p=N(),m=D(),n=M();n.getAllDistricts();const f=E();f.getAllSubDistricts();const g=A();g.getAllUnions(),G().getAllPinlocations();const r=w(n.allDistricts),h=(s,d)=>{if(s===""){d(()=>{r.value=n.allDistricts});return}d(()=>{const i=s.toLowerCase();r.value=n.allDistricts.filter(y=>(console.log(y),y.name[m.language].toLowerCase().indexOf(i)>-1))})},l=w(f.allSubDistricts),b=(s,d)=>{if(s===""){d(()=>{l.value=f.allSubDistricts});return}d(()=>{const i=s.toLowerCase();l.value=f.allSubDistricts.filter(y=>(console.log(y),y.name[m.language].toLowerCase().indexOf(i)>-1))})},c=w(g.allUnions),u=(s,d)=>{if(s===""){d(()=>{c.value=g.allUnions});return}d(()=>{const i=s.toLowerCase();c.value=g.allUnions.filter(y=>(console.log(y),y.name[m.language].toLowerCase().indexOf(i)>-1))})};return H(()=>{p.updateBrowsingLocationOnMounted()}),(s,d)=>($(),v("div",he,[e("div",Se,[t(j,{label:s.$t("location.district"),"stack-label":"",modelValue:o(p).browsingLocation.district,"onUpdate:modelValue":[d[0]||(d[0]=i=>o(p).browsingLocation.district=i),o(p).updateBrowsingDistrict],options:r.value,"option-label":i=>Object(i)===i&&"name"in i?i.name[o(m).language]:null,"bg-color":"white",color:"black",outlined:"",dense:"",clearable:"","use-input":"","input-debounce":"0",onFilter:h},null,8,["label","modelValue","options","option-label","onUpdate:modelValue"])]),e("div",ke,[t(j,{label:s.$t("location.subdistrict"),"stack-label":"",modelValue:o(p).browsingLocation.subDistrict,"onUpdate:modelValue":[d[1]||(d[1]=i=>o(p).browsingLocation.subDistrict=i),o(p).updateBrowsingSubDistrict],options:l.value,"option-label":i=>Object(i)===i&&"name"in i?i.name[o(m).language]:null,"bg-color":"white",color:"black",outlined:"",dense:"",clearable:"","use-input":"","input-debounce":"0",onFilter:b},null,8,["label","modelValue","options","option-label","onUpdate:modelValue"])]),e("div",Le,[t(j,{label:s.$t("location.union"),"stack-label":"",modelValue:o(p).browsingLocation.union,"onUpdate:modelValue":[d[2]||(d[2]=i=>o(p).browsingLocation.union=i),o(p).updateBrowsingUnion],options:c.value,"option-label":i=>Object(i)===i&&"name"in i?i.name[o(m).language]:null,"bg-color":"white",color:"black",outlined:"",dense:"",clearable:"","use-input":"","input-debounce":"0",onFilter:u},null,8,["label","modelValue","options","option-label","onUpdate:modelValue"])])]))}},De={class:"container-section-py-xs"},Ce={class:"inner-section"},Ve={class:"full-width"},qe={class:"q-mb-md"},Ue={class:"q-pa-sm q-mb-sm bg-primary text-white text-center fs-18"},Be={class:"row q-col-gutter-sm"},Fe={class:"col-lg-10 col-md-10 col-sm-12 col-12"},Pe={class:"col-lg-2 col-md-2 col-sm-12 col-12"},Re={__name:"locationsPage",setup(C){const p=X(),m=K();Z(()=>{m.checkLogin()||p.push("/"),(!m.loginUserInfo.permission=="superAdmin"||!m.loginUserInfo.permission=="admin")&&p.push("/profile")}),D();const n=w("division"),f=J(),g=M(),S=E(),r=A(),h=G();f.getDivisionList(),g.getDistrictList(),S.getSubDistrictListByBrowsingDistrictId(),r.getUnionListFromServer(),h.getPinlocationListByBrowsingUnionId(),N();const l=()=>{S.getSubDistrictListByBrowsingDistrictId(),r.getUnionListByBrowsingSubDistrictId(),h.getPinlocationListByBrowsingUnionId()};return ee({title:"Locations",titleTemplate:c=>`${c} - Proyojon24.net`,meta:{description:{name:"description",content:"Page 1"},keywords:{name:"keywords",content:"proyojon24 services service-provider"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"},ogTitle:{property:"og:title",template(c){return`${c} - Proyojon24.net`}}}}),(c,u)=>($(),v("div",De,[e("div",Ce,[e("div",Ve,[t(W,{class:"border-primary"},{default:k(()=>[e("div",qe,[e("div",Ue,a(c.$t("infoByLocation")),1),e("div",Be,[e("div",Fe,[t(we)]),e("div",Pe,[t(_,{class:"full-width bg-primary text-white",label:c.$t("search"),onClick:l},null,8,["label"])])])]),t(L),t(L,{class:"q-mt-md"}),t(Y,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=s=>n.value=s),dense:"",class:"text-grey-10","indicator-color":"blue-grey-10","active-bg-color":"blue-grey-2",align:"justify","narrow-indicator":""},{default:k(()=>[t(V,{name:"division",label:c.$t("location.division")},null,8,["label"]),t(V,{name:"district",label:c.$t("location.district")},null,8,["label"]),t(V,{name:"subdistrict",label:c.$t("location.subdistrict")},null,8,["label"]),t(V,{name:"union",label:c.$t("location.union")},null,8,["label"]),t(V,{name:"pinlocation",label:c.$t("location.pinlocation")},null,8,["label"])]),_:1},8,["modelValue"]),t(L),t(x,{modelValue:n.value,"onUpdate:modelValue":u[1]||(u[1]=s=>n.value=s),animated:""},{default:k(()=>[t(q,{name:"division"},{default:k(()=>[t(oe)]),_:1}),t(q,{name:"district"},{default:k(()=>[t(re)]),_:1}),t(q,{name:"subdistrict"},{default:k(()=>[t(me)]),_:1}),t(q,{name:"union"},{default:k(()=>[t(fe)]),_:1}),t(q,{name:"pinlocation"},{default:k(()=>[t(_e)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]))}};export{Re as default};
