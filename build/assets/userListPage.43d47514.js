import{r as O,G as E,a as n,d as r,f as i,J as _,cE as K,X as G,O as t,aT as J,e as o,K as A,s as X,R as Z,bs as W,aU as ee,F as se,H as te,o as oe,Z as ne,z as s,Y as u,L as ae,M as re,az as ie,u as le,B as ue,dw as de,P as me,I as ce}from"./index.98f545c8.js";import{Q as pe}from"./QMarkupTable.f6a05e30.js";import{u as _e}from"./use-quasar.483070a3.js";import{u as fe}from"./use-meta.f37184b0.js";import{a as ge,Q as Y}from"./QItem.e51bf348.js";import{a as he}from"./QSelect.2256935e.js";/* empty css                                                                   */import{_ as ve}from"./plugin-vue_export-helper.21dcd24c.js";import"./QChip.fa8d0a1f.js";import"./QItemLabel.c62d8aea.js";import"./position-engine.80a4ba5e.js";const ye={class:"flex justify-between items-center permission-width"},be={__name:"userPermission",props:{user:{type:Object}},setup(S){const g=S,h=[{label:"Super Admin",value:"superAdmin"},{label:"Admin",value:"admin"},{label:"Division Admin",value:"division"},{label:"District Admin",value:"district"},{label:"Sub District Admin",value:"subDistrict"},{label:"Union Admin",value:"union"},{label:"None",value:"self"}],c=O(h.filter(m=>m.value==g.user.permission)[0]),a=E(),y=()=>{c.value.value&&a.updateUserPermission(g.user._id,c.value.value)};return(m,f)=>(n(),r("div",ye,[i(he,{modelValue:c.value,"onUpdate:modelValue":f[0]||(f[0]=d=>c.value=d),options:h,"option-label":d=>d===null?"Null value":d.label,dense:"",outlined:"","options-dense":"",style:{width:"220px"}},{option:_(({itemProps:d,opt:p,selected:b,toggleOption:k})=>[i(ge,K(d,{class:"flex justify-between",style:{"border-top":"1px solid rgba(0, 0, 0, 0.12)"}}),{default:_(()=>[i(Y,{side:""},{default:_(()=>[G(t(p.label),1)]),_:2},1024),i(Y,{side:""},{default:_(()=>[i(J,{"model-value":b,"onUpdate:modelValue":F=>k(p),size:"sm"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","option-label"]),o("div",null,[i(A,{class:"q-ml-md",label:m.$t("confirm"),size:"sm",dense:"",color:"positive",onClick:y},null,8,["label"])])]))}};var ke=ve(be,[["__scopeId","data-v-1382aedc"]]);const Ue={class:"container-section-py-xs"},Ae={class:"inner-section"},Se={class:"full-width"},$e={class:"fs-18"},Ie={class:"bg-blue-grey-2"},we={key:0},Ce={key:1},Qe={key:2},Te={key:3},De={key:0,style:{width:"300px"}},Pe={key:1,style:{width:"300px"}},Le={key:2,style:{width:"300px"}},Me={key:3,style:{width:"300px"}},Fe={__name:"userListPage",setup(S){const g=X("myrooms",{}),h=Z(),c=le(),a=E(),y=_e(),{t:m}=W(),f=ee(),{userList:d}=se(f),p=te();O("self");const b=e=>{y.dialog({title:m("confirm"),message:m("confirm_delete_start")+e+m("confirm_delete_end"),cancel:!0,persistent:!0}).onOk(()=>{console.log(">>>> OK")})},k=e=>{for(let v of g.value.rooms)if(v.participants[0].user._id==e||v.participants[1].user._id==e){c.push("direct_message/"+v._id);return}h.createRoom(e)};return oe(()=>{a.checkLogin(),f.getUserList()}),fe({title:"User List",titleTemplate:e=>`${e} - Proyojon24.net`,meta:{description:{name:"description",content:"Page 1"},keywords:{name:"keywords",content:"proyojon24 services service-provider"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"},ogTitle:{property:"og:title",template(e){return`${e} - Proyojon24.net`}}}}),(e,v)=>(n(),r("div",Ue,[o("div",Ae,[o("div",Se,[i(ie,{class:"border-primary q-pa-md"},{default:_(()=>[o("div",null,[o("div",$e,t(e.$t("headermenus.users")),1),i(ne,{class:"q-my-sm"}),i(pe,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:_(()=>{var $,I,w,C,Q,T,D,P;return[o("thead",Ie,[o("tr",null,[o("th",null,t(e.$t("serial")),1),o("th",null,t(e.$t("name")),1),((I=($=s(a))==null?void 0:$.loginUserInfo)==null?void 0:I.permission)=="superAdmin"?(n(),r("th",we,t(e.$t("email")),1)):u("",!0),((C=(w=s(a))==null?void 0:w.loginUserInfo)==null?void 0:C.permission)=="superAdmin"?(n(),r("th",Ce,t(e.$t("phone")),1)):u("",!0),((T=(Q=s(a))==null?void 0:Q.loginUserInfo)==null?void 0:T.permission)=="superAdmin"?(n(),r("th",Qe,t(e.$t("joined_date")),1)):u("",!0),((P=(D=s(a))==null?void 0:D.loginUserInfo)==null?void 0:P.permission)=="superAdmin"?(n(),r("th",Te,t(e.$t("permission")),1)):u("",!0),o("th",null,t(e.$t("action")),1)])]),o("tbody",null,[(n(!0),r(ae,null,re(s(d).users,(l,U)=>{var L,M,V,q,x,j,z,B,R,N;return n(),r("tr",{key:U,class:ue({"bg-blue-grey-1":U%2!=0})},[o("td",null,t(s(de)(String(U+1),s(p).language)),1),o("td",null,t(l.name[s(p).language])+" ",1),((M=(L=s(a))==null?void 0:L.loginUserInfo)==null?void 0:M.permission)=="superAdmin"?(n(),r("td",De,t(l.email),1)):u("",!0),((q=(V=s(a))==null?void 0:V.loginUserInfo)==null?void 0:q.permission)=="superAdmin"?(n(),r("td",Pe,t(l.phone),1)):u("",!0),((j=(x=s(a))==null?void 0:x.loginUserInfo)==null?void 0:j.permission)=="superAdmin"?(n(),r("td",Le,t(s(me).formatDate(l==null?void 0:l.createdAt,"YYYY-MM-DD HH:mm:ss")),1)):u("",!0),((B=(z=s(a))==null?void 0:z.loginUserInfo)==null?void 0:B.permission)=="superAdmin"?(n(),r("td",Me,[i(ke,{user:l},null,8,["user"])])):u("",!0),o("td",null,[i(A,{class:"q-ml-xs",label:"Send Message",size:"sm",dense:"",color:"primary",onClick:H=>k(l._id)},null,8,["onClick"]),((N=(R=s(a))==null?void 0:R.loginUserInfo)==null?void 0:N.permission)=="superAdmin"?(n(),ce(A,{key:0,class:"q-ml-xs",label:e.$t("delete"),size:"sm",dense:"",color:"negative",onClick:H=>b(l.name[s(p).language])},null,8,["label","onClick"])):u("",!0)])],2)}),128))])]}),_:1})])]),_:1})])])]))}};export{Fe as default};
