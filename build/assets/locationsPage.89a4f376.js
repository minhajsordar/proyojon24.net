import{bp as F,aE as J,G as z,I as q,a as y,d as _,e,P as s,f as l,z as o,L as h,_ as D,K as k,M as T,O,B as I,dt as Q,aG as G,r as C,aI as N,aJ as R,aL as H,s as W,bq as K,a0 as X,H as Y,o as Z,aA as x,u as ee}from"./index.8b77cc09.js";import{Q as te,a as P,b as le,c as B}from"./QTabPanels.04dcd0de.js";import{u as ne}from"./use-meta.5e4ca5e2.js";import{Q as j}from"./QMarkupTable.ea9d0693.js";import{u as M}from"./use-quasar.d06d2a7d.js";import{Q as E}from"./QPagination.f4f89e8a.js";import{a as A}from"./QSelect.1213a5a1.js";import"./QResizeObserver.a3d252c7.js";import"./QChip.de29a9c1.js";import"./QItem.9265a6c0.js";import"./position-engine.37a6e19b.js";const oe={class:"flex justify-between"},se={class:"text-h6"},ae={class:"bg-blue-grey-2"},ie={__name:"divisionTable",setup(V){const p=M(),{t:d}=F(),n=J(),{divisionList:v}=z(n),m=q(),S=a=>{n.divisionInfo.id=a._id,p.dialog({title:d("confirm"),message:d("confirm_delete_start")+(a==null?void 0:a.name[m.language])+d("confirm_delete_end"),cancel:!0,persistent:!0}).onOk(()=>{n.deleteDivision()})};return(a,L)=>(y(),_("div",null,[e("div",oe,[e("div",se,s(a.$t("location.divisionList")),1),l(h,{class:"btn-h-22",color:"positive",label:a.$t("addnew"),icon:"add",dense:"",glossy:"",size:"sm",onClick:L[0]||(L[0]=t=>o(n).openDivisionCreateDialog=!0)},null,8,["label"])]),l(D,{class:"q-my-sm"}),l(j,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:k(()=>{var t;return[e("thead",ae,[e("tr",null,[e("th",null,s(a.$t("serial")),1),e("th",null,s(a.$t("location.division")),1),e("th",null,s(a.$t("action")),1)])]),e("tbody",null,[(y(!0),_(T,null,O((t=o(v))==null?void 0:t.divisions,(g,c)=>(y(),_("tr",{key:c,class:I({"bg-blue-grey-1":c%2!=0})},[e("td",null,s(o(Q)(String(c+1),o(m).language)),1),e("td",null,s(g==null?void 0:g.name[o(m).language]),1),e("td",null,[l(h,{label:a.$t("edit"),size:"sm",dense:"",glossy:"",color:"positive",onClick:r=>o(n).openDivisionEditDialogManager(g)},null,8,["label","onClick"]),l(h,{class:"q-ml-xs",label:a.$t("delete"),size:"sm",dense:"",glossy:"",color:"negative",onClick:r=>S(g)},null,8,["label","onClick"])])],2))),128))])]}),_:1})]))}},re={class:"flex justify-between"},ue={class:"text-h6"},ce={class:"bg-blue-grey-2"},de={__name:"districtTable",setup(V){const p=M(),{t:d}=F(),n=G(),{districtList:v}=z(n),m=q(),S=t=>{n.districtInfo.id=t._id,p.dialog({title:d("confirm"),message:d("confirm_delete_start")+(t==null?void 0:t.name[m.language])+d("confirm_delete_end"),cancel:!0,persistent:!0}).onOk(()=>{n.deleteDistrict()})},a=C(1),L=()=>{n.districtPage=a.value,n.getDistrictList()};return(t,g)=>{var c;return y(),_("div",null,[e("div",re,[e("div",ue,s(t.$t("location.districtList")),1),l(h,{class:"btn-h-22",color:"positive",label:t.$t("addnew"),icon:"add",dense:"",glossy:"",size:"sm",onClick:g[0]||(g[0]=r=>o(n).openDistrictCreateDialog=!0)},null,8,["label"])]),l(D,{class:"q-my-sm"}),l(j,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:k(()=>{var r;return[e("thead",ce,[e("tr",null,[e("th",null,s(t.$t("serial")),1),e("th",null,s(t.$t("location.district")),1),e("th",null,s(t.$t("location.division")),1),e("th",null,s(t.$t("action")),1)])]),e("tbody",null,[(y(!0),_(T,null,O((r=o(v))==null?void 0:r.districts,(i,$)=>{var b;return y(),_("tr",{key:$,class:I({"bg-blue-grey-1":$%2!=0})},[e("td",null,s(o(Q)(String($+1),o(m).language)),1),e("td",null,s(i==null?void 0:i.name[o(m).language]),1),e("td",null,s((b=i.parent)==null?void 0:b.name[o(m).language]),1),e("td",null,[l(h,{label:t.$t("edit"),size:"sm",dense:"",glossy:"",color:"positive",onClick:f=>o(n).openDistrictEditDialogManager(i)},null,8,["label","onClick"]),l(h,{class:"q-ml-xs",label:t.$t("delete"),size:"sm",dense:"",glossy:"",color:"negative",onClick:f=>S(i)},null,8,["label","onClick"])])],2)}),128))])]}),_:1}),l(D,{class:"q-mt-md"}),l(E,{class:"q-mt-md",color:"blue-grey-7",modelValue:a.value,"onUpdate:modelValue":[g[1]||(g[1]=r=>a.value=r),L],max:(c=o(n).districtList)==null?void 0:c.pages,"max-pages":6,"boundary-numbers":""},null,8,["modelValue","max"])])}}},me={class:"flex justify-between"},ge={class:"text-h6"},be={class:"bg-blue-grey-2"},pe={__name:"subDistrictTable",setup(V){const p=M(),{t:d}=F(),n=N(),{subDistrictList:v}=z(n),m=q(),S=t=>{n.subDistrictInfo.id=t._id,p.dialog({title:d("confirm"),message:d("confirm_delete_start")+(t==null?void 0:t.name[m.language])+d("confirm_delete_end"),cancel:!0,persistent:!0}).onOk(()=>{n.deleteSubDistrict()})},a=C(1),L=()=>{n.subDistrictPage=a.value,n.getSubDistrictList()};return(t,g)=>{var c;return y(),_("div",null,[e("div",me,[e("div",ge,s(t.$t("location.subdistrictList")),1),l(h,{class:"btn-h-22",color:"positive",label:t.$t("addnew"),icon:"add",dense:"",glossy:"",size:"sm",onClick:g[0]||(g[0]=r=>o(n).openSubDistrictCreateDialog=!0)},null,8,["label"])]),l(D,{class:"q-my-sm"}),l(j,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:k(()=>{var r;return[e("thead",be,[e("tr",null,[e("th",null,s(t.$t("serial")),1),e("th",null,s(t.$t("location.subdistrict")),1),e("th",null,s(t.$t("location.district")),1),e("th",null,s(t.$t("action")),1)])]),e("tbody",null,[(y(!0),_(T,null,O((r=o(v))==null?void 0:r.subDistricts,(i,$)=>{var b;return y(),_("tr",{key:$,class:I({"bg-blue-grey-1":$%2!=0})},[e("td",null,s(o(Q)(String($+1),o(m).language)),1),e("td",null,s(i==null?void 0:i.name[o(m).language]),1),e("td",null,s((b=i.parent)==null?void 0:b.name[o(m).language]),1),e("td",null,[l(h,{label:t.$t("edit"),size:"sm",dense:"",glossy:"",color:"positive",onClick:f=>o(n).openSubDistrictEditDialogManager(i)},null,8,["label","onClick"]),l(h,{class:"q-ml-xs",label:t.$t("delete"),size:"sm",dense:"",glossy:"",color:"negative",onClick:f=>S(i)},null,8,["label","onClick"])])],2)}),128))])]}),_:1}),l(D,{class:"q-mt-md"}),l(E,{class:"q-mt-md",color:"blue-grey-7",modelValue:a.value,"onUpdate:modelValue":[g[1]||(g[1]=r=>a.value=r),L],max:(c=o(v))==null?void 0:c.pages,"max-pages":6,"boundary-numbers":""},null,8,["modelValue","max"])])}}},fe={class:"flex justify-between"},$e={class:"text-h6"},ve={class:"bg-blue-grey-2"},ye={__name:"unionTable",setup(V){const p=M(),{t:d}=F(),n=R(),{unionList:v}=z(n),m=q(),S=t=>{n.unionInfo.id=t._id,p.dialog({title:d("confirm"),message:d("confirm_delete_start")+(t==null?void 0:t.name[m.language])+d("confirm_delete_end"),cancel:!0,persistent:!0}).onOk(()=>{n.deleteUnion()})},a=C(1),L=()=>{n.unionPage=a.value,n.getUnionListFromServer()};return(t,g)=>{var c;return y(),_("div",null,[e("div",fe,[e("div",$e,s(t.$t("location.unionList")),1),l(h,{class:"btn-h-22",color:"positive",label:t.$t("addnew"),icon:"add",dense:"",glossy:"",size:"sm",onClick:g[0]||(g[0]=r=>o(n).openUnionCreateDialog=!0)},null,8,["label"])]),l(D,{class:"q-my-sm"}),l(j,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:k(()=>{var r;return[e("thead",ve,[e("tr",null,[e("th",null,s(t.$t("serial")),1),e("th",null,s(t.$t("location.union")),1),e("th",null,s(t.$t("location.subdistrict")),1),e("th",null,s(t.$t("action")),1)])]),e("tbody",null,[(y(!0),_(T,null,O((r=o(v))==null?void 0:r.unions,(i,$)=>{var b;return y(),_("tr",{key:$,class:I({"bg-blue-grey-1":$%2!=0})},[e("td",null,s(o(Q)(String($+1),o(m).language)),1),e("td",null,s(i==null?void 0:i.name[o(m).language]),1),e("td",null,s((b=i.parent)==null?void 0:b.name[o(m).language]),1),e("td",null,[l(h,{label:t.$t("edit"),size:"sm",dense:"",glossy:"",color:"positive",key:"",onClick:f=>o(n).openUnionEditDialogManager(i)},null,8,["label","onClick"]),l(h,{class:"q-ml-xs",label:t.$t("delete"),size:"sm",dense:"",glossy:"",color:"negative",onClick:f=>S(i)},null,8,["label","onClick"])])],2)}),128))])]}),_:1}),l(D,{class:"q-mt-md"}),l(E,{class:"q-mt-md",color:"blue-grey-7",modelValue:a.value,"onUpdate:modelValue":[g[1]||(g[1]=r=>a.value=r),L],max:(c=o(n).unionList)==null?void 0:c.pages,"max-pages":6,"boundary-numbers":""},null,8,["modelValue","max"])])}}},_e={class:"flex justify-between"},he={class:"text-h6"},Le={class:"bg-blue-grey-2"},Se={__name:"pinLocationTable",setup(V){const p=M(),{t:d}=F(),n=H(),{pinlocationList:v}=z(n),m=q(),S=t=>{n.pinlocationInfo.id=t._id,p.dialog({title:d("confirm"),message:d("confirm_delete_start")+(t==null?void 0:t.name[m.language])+d("confirm_delete_end"),cancel:!0,persistent:!0}).onOk(()=>{n.deletePinlocation()})},a=C(1),L=()=>{n.pinlocationPage=a.value,n.getPinlocationList()};return(t,g)=>{var c;return y(),_("div",null,[e("div",_e,[e("div",he,s(t.$t("location.pinlocationList")),1),l(h,{class:"btn-h-22",color:"positive",label:t.$t("addnew"),icon:"add",dense:"",glossy:"",size:"sm",onClick:g[0]||(g[0]=r=>o(n).openPinlocationCreateDialog=!0)},null,8,["label"])]),l(D,{class:"q-my-sm"}),l(j,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:k(()=>{var r;return[e("thead",Le,[e("tr",null,[e("th",null,s(t.$t("serial")),1),e("th",null,s(t.$t("location.union")),1),e("th",null,s(t.$t("location.pinlocation")),1),e("th",null,s(t.$t("action")),1)])]),e("tbody",null,[(y(!0),_(T,null,O((r=o(v))==null?void 0:r.pinlocations,(i,$)=>{var b;return y(),_("tr",{key:$,class:I({"bg-blue-grey-1":$%2!=0})},[e("td",null,s(o(Q)(String($+1),o(m).language)),1),e("td",null,s((b=i.parent)==null?void 0:b.name[o(m).language]),1),e("td",null,s(i==null?void 0:i.name[o(m).language]),1),e("td",null,[l(h,{label:t.$t("edit"),size:"sm",dense:"",glossy:"",color:"positive",onClick:f=>o(n).openPinlocationEditDialogManager(i)},null,8,["label","onClick"]),l(h,{class:"q-ml-xs",label:t.$t("delete"),size:"sm",dense:"",glossy:"",color:"negative",onClick:f=>S(i)},null,8,["label","onClick"])])],2)}),128))])]}),_:1}),l(D,{class:"q-mt-md"}),l(E,{class:"q-mt-md",color:"blue-grey-7",modelValue:a.value,"onUpdate:modelValue":[g[1]||(g[1]=r=>a.value=r),L],max:(c=o(n).pinlocationList)==null?void 0:c.pages,"max-pages":6,"boundary-numbers":""},null,8,["modelValue","max"])])}}},ke={class:"row q-col-gutter-sm"},De={class:"col-lg-4 col-md-4 col-sm-4 col-xs-6 col-6"},we={class:"col-lg-4 col-md-4 col-sm-4 col-xs-6 col-6"},Ce={class:"col-lg-4 col-md-4 col-sm-4 col-xs-6 col-6"},qe={__name:"locationFilter",setup(V){var i,$;W("browsing-location",{});const p=K(),d=q(),n=G();n.getAllDistricts();const v=N();v.getAllSubDistricts();const m=R();m.getAllUnions(),H().getAllPinlocations();const a=C(n.allDistricts),L=(b,f)=>{if(b===""){f(()=>{a.value=n.allDistricts});return}f(()=>{const u=b.toLowerCase();a.value=n.allDistricts.filter(w=>(console.log(w),w.name[d.language].toLowerCase().indexOf(u)>-1))})},t=C((i=v.subDistrictList)==null?void 0:i.subDistricts),g=(b,f)=>{if(b===""){f(()=>{var u;t.value=(u=v.subDistrictList)==null?void 0:u.subDistricts});return}f(()=>{var w;const u=b.toLowerCase();t.value=(w=v.subDistrictList)==null?void 0:w.subDistricts.filter(U=>(console.log(U),U.name[d.language].toLowerCase().indexOf(u)>-1))})},c=C(($=m.unionList)==null?void 0:$.unions),r=(b,f)=>{if(b===""){f(()=>{var u;c.value=(u=m.unionList)==null?void 0:u.unions});return}f(()=>{var w;const u=b.toLowerCase();c.value=(w=m.unionList)==null?void 0:w.unions.filter(U=>(console.log(U),U.name[d.language].toLowerCase().indexOf(u)>-1))})};return X(()=>{p.updateBrowsingLocationOnMounted()}),(b,f)=>(y(),_("div",ke,[e("div",De,[l(A,{label:b.$t("location.district"),"stack-label":"",modelValue:o(p).browsingLocation.district,"onUpdate:modelValue":[f[0]||(f[0]=u=>o(p).browsingLocation.district=u),o(p).updateBrowsingDistrict],options:a.value,"option-label":u=>Object(u)===u&&"name"in u?u.name[o(d).language]:null,"bg-color":"white",color:"black",outlined:"",dense:"",clearable:"","use-input":"","input-debounce":"0",onFilter:L},null,8,["label","modelValue","options","option-label","onUpdate:modelValue"])]),e("div",we,[l(A,{label:b.$t("location.subdistrict"),"stack-label":"",modelValue:o(p).browsingLocation.subDistrict,"onUpdate:modelValue":[f[1]||(f[1]=u=>o(p).browsingLocation.subDistrict=u),o(p).updateBrowsingSubDistrict],options:t.value,"option-label":u=>Object(u)===u&&"name"in u?u.name[o(d).language]:null,"bg-color":"white",color:"black",outlined:"",dense:"",clearable:"","use-input":"","input-debounce":"0",onFilter:g},null,8,["label","modelValue","options","option-label","onUpdate:modelValue"])]),e("div",Ce,[l(A,{label:b.$t("location.union"),"stack-label":"",modelValue:o(p).browsingLocation.union,"onUpdate:modelValue":[f[2]||(f[2]=u=>o(p).browsingLocation.union=u),o(p).updateBrowsingUnion],options:c.value,"option-label":u=>Object(u)===u&&"name"in u?u.name[o(d).language]:null,"bg-color":"white",color:"black",outlined:"",dense:"",clearable:"","use-input":"","input-debounce":"0",onFilter:r},null,8,["label","modelValue","options","option-label","onUpdate:modelValue"])])]))}},Ve={class:"container-section-py-xs"},Ue={class:"inner-section"},Pe={class:"full-width"},Be={class:"q-mb-md"},Fe={class:"q-pa-sm q-mb-sm bg-primary text-white text-center fs-18"},ze={class:"row q-col-gutter-sm"},Te={class:"col-lg-10 col-md-10 col-sm-12 col-12"},Oe={class:"col-lg-2 col-md-2 col-sm-12 col-12"},Ke={__name:"locationsPage",setup(V){const p=ee(),d=Y();q();const n=C("division"),v=J(),m=G(),S=N(),a=R(),L=H();K();const t=()=>{S.getSubDistrictListByBrowsingDistrictId(),a.getUnionListFromServer(),L.getPinlocationListByBrowsingUnionId()};return Z(()=>{d.checkLogin()||p.push("/"),(!d.loginUserInfo.permission=="superAdmin"||!d.loginUserInfo.permission=="admin")&&p.push("/profile"),v.getDivisionList(),m.getDistrictList(),S.getSubDistrictListByBrowsingDistrictId(),a.getUnionListFromServer(),L.getPinlocationListByBrowsingUnionId()}),ne({title:"Locations",titleTemplate:c=>`${c} - Proyojon24.net`,meta:{description:{name:"description",content:"Page 1"},keywords:{name:"keywords",content:"proyojon24 services service-provider"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"},ogTitle:{property:"og:title",template(c){return`${c} - Proyojon24.net`}}}}),(c,r)=>(y(),_("div",Ve,[e("div",Ue,[e("div",Pe,[l(x,{class:"border-primary"},{default:k(()=>[e("div",Be,[e("div",Fe,s(c.$t("infoByLocation")),1),e("div",ze,[e("div",Te,[l(qe)]),e("div",Oe,[l(h,{class:"full-width bg-primary text-white",label:c.$t("search"),onClick:t},null,8,["label"])])])]),l(D),l(D,{class:"q-mt-md"}),l(te,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=i=>n.value=i),dense:"",class:"text-grey-10","indicator-color":"blue-grey-10","active-bg-color":"blue-grey-2",align:"justify","narrow-indicator":""},{default:k(()=>[l(P,{name:"division",label:c.$t("location.division")},null,8,["label"]),l(P,{name:"district",label:c.$t("location.district")},null,8,["label"]),l(P,{name:"subdistrict",label:c.$t("location.subdistrict")},null,8,["label"]),l(P,{name:"union",label:c.$t("location.union")},null,8,["label"]),l(P,{name:"pinlocation",label:c.$t("location.pinlocation")},null,8,["label"])]),_:1},8,["modelValue"]),l(D),l(le,{modelValue:n.value,"onUpdate:modelValue":r[1]||(r[1]=i=>n.value=i),animated:""},{default:k(()=>[l(B,{name:"division"},{default:k(()=>[l(ie)]),_:1}),l(B,{name:"district"},{default:k(()=>[l(de)]),_:1}),l(B,{name:"subdistrict"},{default:k(()=>[l(pe)]),_:1}),l(B,{name:"union"},{default:k(()=>[l(ye)]),_:1}),l(B,{name:"pinlocation"},{default:k(()=>[l(Se)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]))}};export{Ke as default};
