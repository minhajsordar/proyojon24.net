import{bi as y,F as v,E as C,a as i,d as r,e,f as l,q as d,B as o,x as u,y as n,A as m,O as N,a7 as $,s as L,H as Q,dr as B,I as h,C as S}from"./index.1fcad15f.js";import{Q as q}from"./QBadge.2ba7770c.js";import{Q as w}from"./QMarkupTable.64967130.js";import{u as T}from"./notificationStore.b97af8e8.js";import{u as M}from"./use-quasar.9068f2da.js";const z={class:"container-section-py-xs"},E={class:"inner-section"},V={class:"full-width"},H={class:"flex justify-between"},I={class:"fs-18"},O={class:"bg-blue-grey-2"},A=["innerHTML"],F={key:0},P=["href"],R={__name:"notificationsList",setup(Y){const{t:p}=y(),g=M(),_=v(),a=T();a.getNotificationList(),C.on("push_new_notification",(...t)=>{a.getNotificationList()});const b=t=>{a.notificationInfo.id=t,g.dialog({title:p("confirm"),message:"Are you sure? You want to delete this notification.",cancel:!0,persistent:!0}).onOk(()=>{a.deleteNotification(),console.log(">>>> OK")})};return(t,j)=>(i(),r("div",z,[e("div",E,[e("div",V,[l(L,{class:"border-primary q-pa-md"},{default:d(()=>[e("div",null,[e("div",H,[e("div",I,o(t.$t("headermenus.notification_list")),1),l(u,{class:"btn-h-22",color:"positive",label:t.$t("addnew"),icon:"add",dense:"",glossy:"",size:"sm",onClick:n(a).openCreateNotificationManager},null,8,["label","onClick"])]),l(m,{class:"q-my-sm"}),l(w,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:d(()=>{var f;return[e("thead",O,[e("tr",null,[e("th",null,o(t.$t("serial")),1),e("th",null,o(t.$t("notification.list")),1),e("th",null,o(t.$t("status")),1),e("th",null,o(t.$t("action")),1)])]),e("tbody",null,[(i(!0),r(N,null,$((f=n(a).notificationList)==null?void 0:f.notifications,(s,c)=>(i(),r("tr",{key:c,class:Q({"bg-blue-grey-1":c%2!=0})},[e("td",null,o(n(B)(String(c+1),n(_).language)),1),e("td",null,[h(o(s.title)+" ",1),l(m),e("div",{innerHTML:s.description},null,8,A),s.link?(i(),r("div",F,[l(m),e("a",{href:s.link,target:"_blank"},o(s.link),9,P)])):S("",!0)]),e("td",null,[l(q,{color:s.published?"primary":"grey-8"},{default:d(()=>[h(o(s.published?"Published":"Not Published Yet"),1)]),_:2},1032,["color"])]),e("td",null,[l(u,{class:"q-ml-xs",label:t.$t("edit"),size:"sm",dense:"",color:"positive",onClick:k=>n(a).openEditNotificationManager(s)},null,8,["label","onClick"]),l(u,{class:"q-ml-xs",label:t.$t("delete"),size:"sm",dense:"",color:"negative",onClick:k=>b(s._id)},null,8,["label","onClick"])])],2))),128))])]}),_:1})])]),_:1})])])]))}};export{R as default};
