import{bf as B,M as K,dt as T,F as V,a as y,d as _,e,B as s,f as l,y as o,x as h,A as D,q as k,K as z,bj as O,H as Q,dr as j,P as N,r as C,U as R,V as G,X as H,G as J,bg as X,a$ as W,m as Y,o as Z,s as x,u as ee}from"./index.274b46b9.js";import{Q as te,a as F,b as le,c as P}from"./QTabPanels.2173c608.js";import{u as ne}from"./use-meta.c1266446.js";import{Q as I}from"./QMarkupTable.cb00f4f0.js";import{u as M}from"./use-quasar.90b80ee0.js";import{Q as A}from"./QPagination.5cea5140.js";import{a as E}from"./QSelect.ce8ca637.js";import"./QResizeObserver.d1e0669c.js";import"./QChip.1d6fe426.js";import"./QItemLabel.3e9ffd16.js";import"./position-engine.c98b355a.js";const oe={class:"flex justify-between"},se={class:"text-h6"},ae={class:"bg-blue-grey-2"},ie={__name:"divisionTable",setup(q){const p=M(),{t:d}=B(),n=K(),{divisionList:v}=T(n),m=V(),L=a=>{n.divisionInfo.id=a._id,p.dialog({title:d("confirm"),message:d("confirm_delete_start")+(a==null?void 0:a.name[m.language])+d("confirm_delete_end"),cancel:!0,persistent:!0}).onOk(()=>{n.deleteDivision()})};return(a,S)=>(y(),_("div",null,[e("div",oe,[e("div",se,s(a.$t("location.divisionList")),1),l(h,{class:"btn-h-22",color:"positive",label:a.$t("addnew"),icon:"add",dense:"",glossy:"",size:"sm",onClick:S[0]||(S[0]=t=>o(n).openDivisionCreateDialog=!0)},null,8,["label"])]),l(D,{class:"q-my-sm"}),l(I,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:k(()=>{var t;return[e("thead",ae,[e("tr",null,[e("th",null,s(a.$t("serial")),1),e("th",null,s(a.$t("location.division")),1),e("th",null,s(a.$t("action")),1)])]),e("tbody",null,[(y(!0),_(z,null,O((t=o(v))==null?void 0:t.divisions,(g,c)=>(y(),_("tr",{key:c,class:Q({"bg-blue-grey-1":c%2!=0})},[e("td",null,s(o(j)(String(c+1),o(m).language)),1),e("td",null,s(g==null?void 0:g.name[o(m).language]),1),e("td",null,[l(h,{label:a.$t("edit"),size:"sm",dense:"",glossy:"",color:"positive",onClick:r=>o(n).openDivisionEditDialogManager(g)},null,8,["label","onClick"]),l(h,{class:"q-ml-xs",label:a.$t("delete"),size:"sm",dense:"",glossy:"",color:"negative",onClick:r=>L(g)},null,8,["label","onClick"])])],2))),128))])]}),_:1})]))}},re={class:"flex justify-between"},ue={class:"text-h6"},ce={class:"bg-blue-grey-2"},de={__name:"districtTable",setup(q){const p=M(),{t:d}=B(),n=N(),{districtList:v}=T(n),m=V(),L=t=>{n.districtInfo.id=t._id,p.dialog({title:d("confirm"),message:d("confirm_delete_start")+(t==null?void 0:t.name[m.language])+d("confirm_delete_end"),cancel:!0,persistent:!0}).onOk(()=>{n.deleteDistrict()})},a=C(1),S=()=>{n.districtPage=a.value,n.getDistrictList()};return(t,g)=>{var c;return y(),_("div",null,[e("div",re,[e("div",ue,s(t.$t("location.districtList")),1),l(h,{class:"btn-h-22",color:"positive",label:t.$t("addnew"),icon:"add",dense:"",glossy:"",size:"sm",onClick:g[0]||(g[0]=r=>o(n).openDistrictCreateDialog=!0)},null,8,["label"])]),l(D,{class:"q-my-sm"}),l(I,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:k(()=>{var r;return[e("thead",ce,[e("tr",null,[e("th",null,s(t.$t("serial")),1),e("th",null,s(t.$t("location.district")),1),e("th",null,s(t.$t("location.division")),1),e("th",null,s(t.$t("action")),1)])]),e("tbody",null,[(y(!0),_(z,null,O((r=o(v))==null?void 0:r.districts,(i,$)=>{var b;return y(),_("tr",{key:$,class:Q({"bg-blue-grey-1":$%2!=0})},[e("td",null,s(o(j)(String($+1),o(m).language)),1),e("td",null,s(i==null?void 0:i.name[o(m).language]),1),e("td",null,s((b=i.parent)==null?void 0:b.name[o(m).language]),1),e("td",null,[l(h,{label:t.$t("edit"),size:"sm",dense:"",glossy:"",color:"positive",onClick:f=>o(n).openDistrictEditDialogManager(i)},null,8,["label","onClick"]),l(h,{class:"q-ml-xs",label:t.$t("delete"),size:"sm",dense:"",glossy:"",color:"negative",onClick:f=>L(i)},null,8,["label","onClick"])])],2)}),128))])]}),_:1}),l(D,{class:"q-mt-md"}),l(A,{class:"q-mt-md",color:"blue-grey-7",modelValue:a.value,"onUpdate:modelValue":[g[1]||(g[1]=r=>a.value=r),S],max:(c=o(n).districtList)==null?void 0:c.pages,"max-pages":6,"boundary-numbers":""},null,8,["modelValue","max"])])}}},me={class:"flex justify-between"},ge={class:"text-h6"},be={class:"bg-blue-grey-2"},pe={__name:"subDistrictTable",setup(q){const p=M(),{t:d}=B(),n=R(),{subDistrictList:v}=T(n),m=V(),L=t=>{n.subDistrictInfo.id=t._id,p.dialog({title:d("confirm"),message:d("confirm_delete_start")+(t==null?void 0:t.name[m.language])+d("confirm_delete_end"),cancel:!0,persistent:!0}).onOk(()=>{n.deleteSubDistrict()})},a=C(1),S=()=>{n.subDistrictPage=a.value,n.getSubDistrictList()};return(t,g)=>{var c;return y(),_("div",null,[e("div",me,[e("div",ge,s(t.$t("location.subdistrictList")),1),l(h,{class:"btn-h-22",color:"positive",label:t.$t("addnew"),icon:"add",dense:"",glossy:"",size:"sm",onClick:g[0]||(g[0]=r=>o(n).openSubDistrictCreateDialog=!0)},null,8,["label"])]),l(D,{class:"q-my-sm"}),l(I,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:k(()=>{var r;return[e("thead",be,[e("tr",null,[e("th",null,s(t.$t("serial")),1),e("th",null,s(t.$t("location.subdistrict")),1),e("th",null,s(t.$t("location.district")),1),e("th",null,s(t.$t("action")),1)])]),e("tbody",null,[(y(!0),_(z,null,O((r=o(v))==null?void 0:r.subDistricts,(i,$)=>{var b;return y(),_("tr",{key:$,class:Q({"bg-blue-grey-1":$%2!=0})},[e("td",null,s(o(j)(String($+1),o(m).language)),1),e("td",null,s(i==null?void 0:i.name[o(m).language]),1),e("td",null,s((b=i.parent)==null?void 0:b.name[o(m).language]),1),e("td",null,[l(h,{label:t.$t("edit"),size:"sm",dense:"",glossy:"",color:"positive",onClick:f=>o(n).openSubDistrictEditDialogManager(i)},null,8,["label","onClick"]),l(h,{class:"q-ml-xs",label:t.$t("delete"),size:"sm",dense:"",glossy:"",color:"negative",onClick:f=>L(i)},null,8,["label","onClick"])])],2)}),128))])]}),_:1}),l(D,{class:"q-mt-md"}),l(A,{class:"q-mt-md",color:"blue-grey-7",modelValue:a.value,"onUpdate:modelValue":[g[1]||(g[1]=r=>a.value=r),S],max:(c=o(v))==null?void 0:c.pages,"max-pages":6,"boundary-numbers":""},null,8,["modelValue","max"])])}}},fe={class:"flex justify-between"},$e={class:"text-h6"},ve={class:"bg-blue-grey-2"},ye={__name:"unionTable",setup(q){const p=M(),{t:d}=B(),n=G(),{unionList:v}=T(n),m=V(),L=t=>{n.unionInfo.id=t._id,p.dialog({title:d("confirm"),message:d("confirm_delete_start")+(t==null?void 0:t.name[m.language])+d("confirm_delete_end"),cancel:!0,persistent:!0}).onOk(()=>{n.deleteUnion()})},a=C(1),S=()=>{n.unionPage=a.value,n.getUnionListFromServer()};return(t,g)=>{var c;return y(),_("div",null,[e("div",fe,[e("div",$e,s(t.$t("location.unionList")),1),l(h,{class:"btn-h-22",color:"positive",label:t.$t("addnew"),icon:"add",dense:"",glossy:"",size:"sm",onClick:g[0]||(g[0]=r=>o(n).openUnionCreateDialog=!0)},null,8,["label"])]),l(D,{class:"q-my-sm"}),l(I,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:k(()=>{var r;return[e("thead",ve,[e("tr",null,[e("th",null,s(t.$t("serial")),1),e("th",null,s(t.$t("location.union")),1),e("th",null,s(t.$t("location.subdistrict")),1),e("th",null,s(t.$t("action")),1)])]),e("tbody",null,[(y(!0),_(z,null,O((r=o(v))==null?void 0:r.unions,(i,$)=>{var b;return y(),_("tr",{key:$,class:Q({"bg-blue-grey-1":$%2!=0})},[e("td",null,s(o(j)(String($+1),o(m).language)),1),e("td",null,s(i==null?void 0:i.name[o(m).language]),1),e("td",null,s((b=i.parent)==null?void 0:b.name[o(m).language]),1),e("td",null,[l(h,{label:t.$t("edit"),size:"sm",dense:"",glossy:"",color:"positive",key:"",onClick:f=>o(n).openUnionEditDialogManager(i)},null,8,["label","onClick"]),l(h,{class:"q-ml-xs",label:t.$t("delete"),size:"sm",dense:"",glossy:"",color:"negative",onClick:f=>L(i)},null,8,["label","onClick"])])],2)}),128))])]}),_:1}),l(D,{class:"q-mt-md"}),l(A,{class:"q-mt-md",color:"blue-grey-7",modelValue:a.value,"onUpdate:modelValue":[g[1]||(g[1]=r=>a.value=r),S],max:(c=o(n).unionList)==null?void 0:c.pages,"max-pages":6,"boundary-numbers":""},null,8,["modelValue","max"])])}}},_e={class:"flex justify-between"},he={class:"text-h6"},Se={class:"bg-blue-grey-2"},Le={__name:"pinLocationTable",setup(q){const p=M(),{t:d}=B(),n=H(),{pinlocationList:v}=T(n),m=V(),L=t=>{n.pinlocationInfo.id=t._id,p.dialog({title:d("confirm"),message:d("confirm_delete_start")+(t==null?void 0:t.name[m.language])+d("confirm_delete_end"),cancel:!0,persistent:!0}).onOk(()=>{n.deletePinlocation()})},a=C(1),S=()=>{n.pinlocationPage=a.value,n.getPinlocationList()};return(t,g)=>{var c;return y(),_("div",null,[e("div",_e,[e("div",he,s(t.$t("location.pinlocationList")),1),l(h,{class:"btn-h-22",color:"positive",label:t.$t("addnew"),icon:"add",dense:"",glossy:"",size:"sm",onClick:g[0]||(g[0]=r=>o(n).openPinlocationCreateDialog=!0)},null,8,["label"])]),l(D,{class:"q-my-sm"}),l(I,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:k(()=>{var r;return[e("thead",Se,[e("tr",null,[e("th",null,s(t.$t("serial")),1),e("th",null,s(t.$t("location.union")),1),e("th",null,s(t.$t("location.pinlocation")),1),e("th",null,s(t.$t("action")),1)])]),e("tbody",null,[(y(!0),_(z,null,O((r=o(v))==null?void 0:r.pinlocations,(i,$)=>{var b;return y(),_("tr",{key:$,class:Q({"bg-blue-grey-1":$%2!=0})},[e("td",null,s(o(j)(String($+1),o(m).language)),1),e("td",null,s((b=i.parent)==null?void 0:b.name[o(m).language]),1),e("td",null,s(i==null?void 0:i.name[o(m).language]),1),e("td",null,[l(h,{label:t.$t("edit"),size:"sm",dense:"",glossy:"",color:"positive",onClick:f=>o(n).openPinlocationEditDialogManager(i)},null,8,["label","onClick"]),l(h,{class:"q-ml-xs",label:t.$t("delete"),size:"sm",dense:"",glossy:"",color:"negative",onClick:f=>L(i)},null,8,["label","onClick"])])],2)}),128))])]}),_:1}),l(D,{class:"q-mt-md"}),l(A,{class:"q-mt-md",color:"blue-grey-7",modelValue:a.value,"onUpdate:modelValue":[g[1]||(g[1]=r=>a.value=r),S],max:(c=o(n).pinlocationList)==null?void 0:c.pages,"max-pages":6,"boundary-numbers":""},null,8,["modelValue","max"])])}}},ke={class:"row q-col-gutter-sm"},De={class:"col-lg-4 col-md-4 col-sm-4 col-xs-6 col-6"},we={class:"col-lg-4 col-md-4 col-sm-4 col-xs-6 col-6"},Ce={class:"col-lg-4 col-md-4 col-sm-4 col-xs-6 col-6"},Ve={__name:"locationFilter",setup(q){var i,$;J("browsing-location",{});const p=X(),d=V(),n=N();n.getAllDistricts();const v=R();v.getAllSubDistricts();const m=G();m.getAllUnions(),H().getAllPinlocations();const a=C(n.allDistricts),S=(b,f)=>{if(b===""){f(()=>{a.value=n.allDistricts});return}f(()=>{const u=b.toLowerCase();a.value=n.allDistricts.filter(w=>(console.log(w),w.name[d.language].toLowerCase().indexOf(u)>-1))})},t=C((i=v.subDistrictList)==null?void 0:i.subDistricts),g=(b,f)=>{if(b===""){f(()=>{var u;t.value=(u=v.subDistrictList)==null?void 0:u.subDistricts});return}f(()=>{var w;const u=b.toLowerCase();t.value=(w=v.subDistrictList)==null?void 0:w.subDistricts.filter(U=>(console.log(U),U.name[d.language].toLowerCase().indexOf(u)>-1))})},c=C(($=m.unionList)==null?void 0:$.unions),r=(b,f)=>{if(b===""){f(()=>{var u;c.value=(u=m.unionList)==null?void 0:u.unions});return}f(()=>{var w;const u=b.toLowerCase();c.value=(w=m.unionList)==null?void 0:w.unions.filter(U=>(console.log(U),U.name[d.language].toLowerCase().indexOf(u)>-1))})};return W(()=>{p.updateBrowsingLocationOnMounted()}),(b,f)=>(y(),_("div",ke,[e("div",De,[l(E,{label:b.$t("location.district"),"stack-label":"",modelValue:o(p).browsingLocation.district,"onUpdate:modelValue":[f[0]||(f[0]=u=>o(p).browsingLocation.district=u),o(p).updateBrowsingDistrict],options:a.value,"option-label":u=>Object(u)===u&&"name"in u?u.name[o(d).language]:null,"bg-color":"white",color:"black",outlined:"",dense:"",clearable:"","use-input":"","input-debounce":"0",onFilter:S},null,8,["label","modelValue","options","option-label","onUpdate:modelValue"])]),e("div",we,[l(E,{label:b.$t("location.subdistrict"),"stack-label":"",modelValue:o(p).browsingLocation.subDistrict,"onUpdate:modelValue":[f[1]||(f[1]=u=>o(p).browsingLocation.subDistrict=u),o(p).updateBrowsingSubDistrict],options:t.value,"option-label":u=>Object(u)===u&&"name"in u?u.name[o(d).language]:null,"bg-color":"white",color:"black",outlined:"",dense:"",clearable:"","use-input":"","input-debounce":"0",onFilter:g},null,8,["label","modelValue","options","option-label","onUpdate:modelValue"])]),e("div",Ce,[l(E,{label:b.$t("location.union"),"stack-label":"",modelValue:o(p).browsingLocation.union,"onUpdate:modelValue":[f[2]||(f[2]=u=>o(p).browsingLocation.union=u),o(p).updateBrowsingUnion],options:c.value,"option-label":u=>Object(u)===u&&"name"in u?u.name[o(d).language]:null,"bg-color":"white",color:"black",outlined:"",dense:"",clearable:"","use-input":"","input-debounce":"0",onFilter:r},null,8,["label","modelValue","options","option-label","onUpdate:modelValue"])])]))}},qe={class:"container-section-py-xs"},Ue={class:"inner-section"},Fe={class:"full-width"},Pe={class:"q-mb-md"},Be={class:"q-pa-sm q-mb-sm bg-primary text-white text-center fs-18"},Te={class:"row q-col-gutter-sm"},ze={class:"col-lg-10 col-md-10 col-sm-12 col-12"},Oe={class:"col-lg-2 col-md-2 col-sm-12 col-12"},Xe={__name:"locationsPage",setup(q){const p=ee(),d=Y();V();const n=C("division"),v=K(),m=N(),L=R(),a=G(),S=H();X();const t=()=>{L.getSubDistrictListByBrowsingDistrictId(),a.getUnionListFromServer(),S.getPinlocationListByBrowsingUnionId()};return Z(()=>{d.checkLogin()||p.push("/"),(!d.loginUserInfo.permission=="superAdmin"||!d.loginUserInfo.permission=="admin")&&p.push("/profile"),v.getDivisionList(),m.getDistrictList(),L.getSubDistrictListByBrowsingDistrictId(),a.getUnionListFromServer(),S.getPinlocationListByBrowsingUnionId()}),ne({title:"Locations",titleTemplate:c=>`${c} - Proyojon24.net`,meta:{description:{name:"description",content:"Page 1"},keywords:{name:"keywords",content:"proyojon24 services service-provider"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"},ogTitle:{property:"og:title",template(c){return`${c} - Proyojon24.net`}}}}),(c,r)=>(y(),_("div",qe,[e("div",Ue,[e("div",Fe,[l(x,{class:"border-primary"},{default:k(()=>[e("div",Pe,[e("div",Be,s(c.$t("infoByLocation")),1),e("div",Te,[e("div",ze,[l(Ve)]),e("div",Oe,[l(h,{class:"full-width bg-primary text-white",label:c.$t("search"),onClick:t},null,8,["label"])])])]),l(D),l(D,{class:"q-mt-md"}),l(te,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=i=>n.value=i),dense:"",class:"text-grey-10","indicator-color":"blue-grey-10","active-bg-color":"blue-grey-2",align:"justify","narrow-indicator":""},{default:k(()=>[l(F,{name:"division",label:c.$t("location.division")},null,8,["label"]),l(F,{name:"district",label:c.$t("location.district")},null,8,["label"]),l(F,{name:"subdistrict",label:c.$t("location.subdistrict")},null,8,["label"]),l(F,{name:"union",label:c.$t("location.union")},null,8,["label"]),l(F,{name:"pinlocation",label:c.$t("location.pinlocation")},null,8,["label"])]),_:1},8,["modelValue"]),l(D),l(le,{modelValue:n.value,"onUpdate:modelValue":r[1]||(r[1]=i=>n.value=i),animated:""},{default:k(()=>[l(P,{name:"division"},{default:k(()=>[l(ie)]),_:1}),l(P,{name:"district"},{default:k(()=>[l(de)]),_:1}),l(P,{name:"subdistrict"},{default:k(()=>[l(pe)]),_:1}),l(P,{name:"union"},{default:k(()=>[l(ye)]),_:1}),l(P,{name:"pinlocation"},{default:k(()=>[l(Le)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]))}};export{Xe as default};
