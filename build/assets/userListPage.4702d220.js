import{r as K,H as G,a as o,d as i,f as l,K as _,cB as W,Y as X,P as t,aO as ee,e as r,L as U,s as se,S as te,bp as oe,aP as ne,G as ie,I as re,o as ae,_ as le,z as s,Z as a,M as ue,O as de,aA as me,u as ce,B as pe,dt as _e,R as fe,J as ge}from"./index.864276f4.js";import{Q as he}from"./QMarkupTable.bb09e7f4.js";import{u as ye}from"./use-quasar.cab767fc.js";import{u as ve}from"./use-meta.30eb52bb.js";import{b as be,Q as F}from"./QItem.7e678169.js";import{a as ke}from"./QSelect.8e799e5f.js";/* empty css                                                                   */import{_ as Ae}from"./plugin-vue_export-helper.21dcd24c.js";import"./QChip.60fb7c4e.js";import"./position-engine.fb4e423d.js";const Ue={class:"flex justify-between items-center permission-width"},Se={__name:"userPermission",props:{user:{type:Object}},setup(S){const g=S,h=[{label:"Super Admin",value:"superAdmin"},{label:"Admin",value:"admin"},{label:"Division Admin",value:"division"},{label:"District Admin",value:"district"},{label:"Sub District Admin",value:"subDistrict"},{label:"Union Admin",value:"union"},{label:"None",value:"self"}],c=K(h.filter(m=>m.value==g.user.permission)[0]),n=G(),v=()=>{c.value.value&&n.updateUserPermission(g.user._id,c.value.value)};return(m,f)=>(o(),i("div",Ue,[l(ke,{modelValue:c.value,"onUpdate:modelValue":f[0]||(f[0]=d=>c.value=d),options:h,"option-label":d=>d===null?"Null value":d.label,dense:"",outlined:"","options-dense":"",style:{width:"220px"}},{option:_(({itemProps:d,opt:p,selected:b,toggleOption:k})=>[l(be,W(d,{class:"flex justify-between",style:{"border-top":"1px solid rgba(0, 0, 0, 0.12)"}}),{default:_(()=>[l(F,{side:""},{default:_(()=>[X(t(p.label),1)]),_:2},1024),l(F,{side:""},{default:_(()=>[l(ee,{"model-value":b,"onUpdate:modelValue":J=>k(p),size:"sm"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","option-label"]),r("div",null,[l(U,{class:"q-ml-md",label:m.$t("confirm"),size:"sm",dense:"",color:"positive",onClick:v},null,8,["label"])])]))}};var $e=Ae(Se,[["__scopeId","data-v-1382aedc"]]);const Ie={class:"container-section-py-xs"},we={class:"inner-section"},Ce={class:"full-width"},Pe={class:"fs-18"},Qe={class:"bg-blue-grey-2"},De={key:0},Te={key:1},Le={key:2},Me={key:3},Ve={key:4},qe={key:0,style:{width:"300px"}},xe={key:1,style:{width:"300px"}},Be={key:2,style:{width:"300px"}},je={key:3,style:{width:"300px"}},Ne={key:4,style:{width:"300px"}},Ze={__name:"userListPage",setup(S){const g=se("myrooms",{}),h=te(),c=ce(),n=G(),v=ye(),{t:m}=oe(),f=ne(),{userList:d}=ie(f),p=re();K("self");const b=e=>{v.dialog({title:m("confirm"),message:m("confirm_delete_start")+e+m("confirm_delete_end"),cancel:!0,persistent:!0}).onOk(()=>{console.log(">>>> OK")})},k=e=>{for(let y of g.value.rooms)if(y.participants[0].user._id==e||y.participants[1].user._id==e){c.push("direct_message/"+y._id);return}h.createRoom(e)};return ae(()=>{n.checkLogin(),f.getUserList()}),ve({title:"User List",titleTemplate:e=>`${e} - Proyojon24.net`,meta:{description:{name:"description",content:"Page 1"},keywords:{name:"keywords",content:"proyojon24 services service-provider"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"},ogTitle:{property:"og:title",template(e){return`${e} - Proyojon24.net`}}}}),(e,y)=>(o(),i("div",Ie,[r("div",we,[r("div",Ce,[l(me,{class:"border-primary q-pa-md"},{default:_(()=>[r("div",null,[r("div",Pe,t(e.$t("headermenus.users")),1),l(le,{class:"q-my-sm"}),l(he,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:_(()=>{var $,I,w,C,P,Q,D,T,L,M;return[r("thead",Qe,[r("tr",null,[r("th",null,t(e.$t("serial")),1),r("th",null,t(e.$t("name")),1),((I=($=s(n))==null?void 0:$.loginUserInfo)==null?void 0:I.permission)=="superAdmin"?(o(),i("th",De,t(e.$t("registration_no")),1)):a("",!0),((C=(w=s(n))==null?void 0:w.loginUserInfo)==null?void 0:C.permission)=="superAdmin"?(o(),i("th",Te,t(e.$t("email")),1)):a("",!0),((Q=(P=s(n))==null?void 0:P.loginUserInfo)==null?void 0:Q.permission)=="superAdmin"?(o(),i("th",Le,t(e.$t("phone")),1)):a("",!0),((T=(D=s(n))==null?void 0:D.loginUserInfo)==null?void 0:T.permission)=="superAdmin"?(o(),i("th",Me,t(e.$t("joined_date")),1)):a("",!0),((M=(L=s(n))==null?void 0:L.loginUserInfo)==null?void 0:M.permission)=="superAdmin"?(o(),i("th",Ve,t(e.$t("permission")),1)):a("",!0),r("th",null,t(e.$t("action")),1)])]),r("tbody",null,[(o(!0),i(ue,null,de(s(d).users,(u,A)=>{var V,q,x,B,j,N,R,z,O,Y,H,E;return o(),i("tr",{key:A,class:pe({"bg-blue-grey-1":A%2!=0})},[r("td",null,t(s(_e)(String(A+1),s(p).language)),1),r("td",null,t(u.name[s(p).language])+" ",1),((q=(V=s(n))==null?void 0:V.loginUserInfo)==null?void 0:q.permission)=="superAdmin"?(o(),i("td",qe,t(u.registrationNo),1)):a("",!0),((B=(x=s(n))==null?void 0:x.loginUserInfo)==null?void 0:B.permission)=="superAdmin"?(o(),i("td",xe,t(u.email),1)):a("",!0),((N=(j=s(n))==null?void 0:j.loginUserInfo)==null?void 0:N.permission)=="superAdmin"?(o(),i("td",Be,t(u.phone),1)):a("",!0),((z=(R=s(n))==null?void 0:R.loginUserInfo)==null?void 0:z.permission)=="superAdmin"?(o(),i("td",je,t(s(fe).formatDate(u==null?void 0:u.createdAt,"YYYY-MM-DD HH:mm:ss")),1)):a("",!0),((Y=(O=s(n))==null?void 0:O.loginUserInfo)==null?void 0:Y.permission)=="superAdmin"?(o(),i("td",Ne,[l($e,{user:u},null,8,["user"])])):a("",!0),r("td",null,[l(U,{class:"q-ml-xs",label:"Send Message",size:"sm",dense:"",color:"primary",onClick:Z=>k(u._id)},null,8,["onClick"]),((E=(H=s(n))==null?void 0:H.loginUserInfo)==null?void 0:E.permission)=="superAdmin"?(o(),ge(U,{key:0,class:"q-ml-xs",label:e.$t("delete"),size:"sm",dense:"",color:"negative",onClick:Z=>b(u.name[s(p).language])},null,8,["label","onClick"])):a("",!0)])],2)}),128))])]}),_:1})])]),_:1})])])]))}};export{Ze as default};
