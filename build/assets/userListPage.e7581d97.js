import{r as K,H as G,a as n,d as i,f as l,K as f,cB as Z,Y as W,P as o,aO as X,e as r,L as I,s as ee,S as se,bp as te,aP as oe,G as ne,I as ie,o as re,_ as ae,z as t,Z as a,M as le,O as ue,aA as de,u as me,B as ce,dt as pe,R as fe,J as _e}from"./index.f797b370.js";import{Q as ge}from"./QMarkupTable.4b15fd5d.js";import{u as he}from"./use-quasar.0b02724a.js";import{u as ye}from"./use-meta.e9a26e9b.js";import{b as ve,Q as F}from"./QItem.5b3967a4.js";import{a as be}from"./QSelect.d7686a35.js";/* empty css                                                                   */import{_ as ke}from"./plugin-vue_export-helper.21dcd24c.js";import"./QChip.214ddd33.js";import"./position-engine.1fe88417.js";const Ue={class:"flex justify-between items-center permission-width"},Ae={__name:"userPermission",props:{user:{type:Object}},setup(w){const m=w,v=[{label:"Super Admin",value:"superAdmin"},{label:"Admin",value:"admin"},{label:"Division Admin",value:"division"},{label:"District Admin",value:"district"},{label:"Sub District Admin",value:"subDistrict"},{label:"Union Admin",value:"union"},{label:"None",value:"self"}],s=K(v.filter(c=>c.value==m.user.permission)[0]),U=G(),_=()=>{s.value.value&&U.updateUserPermission(m.user._id,s.value.value)};return(c,b)=>(n(),i("div",Ue,[l(be,{modelValue:s.value,"onUpdate:modelValue":b[0]||(b[0]=u=>s.value=u),options:v,"option-label":u=>u===null?"Null value":u.label,dense:"",outlined:"","options-dense":"",style:{width:"220px"}},{option:f(({itemProps:u,opt:k,selected:A,toggleOption:P})=>[l(ve,Z(u,{class:"flex justify-between",style:{"border-top":"1px solid rgba(0, 0, 0, 0.12)"}}),{default:f(()=>[l(F,{side:""},{default:f(()=>[W(o(k.label),1)]),_:2},1024),l(F,{side:""},{default:f(()=>[l(X,{"model-value":A,"onUpdate:modelValue":e=>P(k),size:"sm"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","option-label"]),r("div",null,[l(I,{class:"q-ml-md",label:c.$t("confirm"),size:"sm",dense:"",color:"positive",onClick:_},null,8,["label"])])]))}};var Se=ke(Ae,[["__scopeId","data-v-1382aedc"]]);const $e={class:"container-section-py-xs"},Ie={class:"inner-section"},we={class:"full-width"},Pe={class:"fs-18"},Ce={class:"bg-blue-grey-2"},Le={key:0},Qe={key:1},De={key:2},Te={key:3},Me={key:4},Ve={key:0,style:{width:"300px"}},qe={key:1,style:{width:"300px"}},xe={key:2,style:{width:"300px"}},Be={key:3,style:{width:"300px"}},Ne={key:4,style:{width:"300px"}},Je={__name:"userListPage",setup(w){ee("myrooms",{});const m=se(),v=me(),s=G(),U=he(),{t:_}=te(),c=oe(),{userList:b}=ne(c),u=ie();K("self");const k=e=>{U.dialog({title:_("confirm"),message:_("confirm_delete_start")+e+_("confirm_delete_end"),cancel:!0,persistent:!0}).onOk(()=>{console.log(">>>> OK")})},A=e=>{var S,g,h,y;if(s.loginUserInfo==null){Notify.create({position:"center",type:"negative",message:"Please login first"});return}if(m.myRoomList){for(let p of m.myRoomList.rooms)if(((g=(S=p.participants[0])==null?void 0:S.user)==null?void 0:g._id)==e||((y=(h=p.participants[1])==null?void 0:h.user)==null?void 0:y._id)==e){v.push("direct_message/"+p._id);return}}m.createRoom(e)};return re(()=>{s.checkLogin(),c.getUserList()}),ye({title:"User List",titleTemplate:e=>`${e} - Proyojon24.net`,meta:{description:{name:"description",content:"Page 1"},keywords:{name:"keywords",content:"proyojon24 services service-provider"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"},ogTitle:{property:"og:title",template(e){return`${e} - Proyojon24.net`}}}}),(e,S)=>(n(),i("div",$e,[r("div",Ie,[r("div",we,[l(de,{class:"border-primary q-pa-md"},{default:f(()=>[r("div",null,[r("div",Pe,o(e.$t("headermenus.users")),1),l(ae,{class:"q-my-sm"}),l(ge,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:f(()=>{var g,h,y,p,C,L,Q,D,T,M;return[r("thead",Ce,[r("tr",null,[r("th",null,o(e.$t("serial")),1),r("th",null,o(e.$t("name")),1),((h=(g=t(s))==null?void 0:g.loginUserInfo)==null?void 0:h.permission)=="superAdmin"?(n(),i("th",Le,o(e.$t("registration_no")),1)):a("",!0),((p=(y=t(s))==null?void 0:y.loginUserInfo)==null?void 0:p.permission)=="superAdmin"?(n(),i("th",Qe,o(e.$t("email")),1)):a("",!0),((L=(C=t(s))==null?void 0:C.loginUserInfo)==null?void 0:L.permission)=="superAdmin"?(n(),i("th",De,o(e.$t("phone")),1)):a("",!0),((D=(Q=t(s))==null?void 0:Q.loginUserInfo)==null?void 0:D.permission)=="superAdmin"?(n(),i("th",Te,o(e.$t("joined_date")),1)):a("",!0),((M=(T=t(s))==null?void 0:T.loginUserInfo)==null?void 0:M.permission)=="superAdmin"?(n(),i("th",Me,o(e.$t("permission")),1)):a("",!0),r("th",null,o(e.$t("action")),1)])]),r("tbody",null,[(n(!0),i(le,null,ue(t(b).users,(d,$)=>{var V,q,x,B,N,R,j,z,O,Y,H,E;return n(),i("tr",{key:$,class:ce({"bg-blue-grey-1":$%2!=0})},[r("td",null,o(t(pe)(String($+1),t(u).language)),1),r("td",null,o(d.name[t(u).language])+" ",1),((q=(V=t(s))==null?void 0:V.loginUserInfo)==null?void 0:q.permission)=="superAdmin"?(n(),i("td",Ve,o(d.registrationNo),1)):a("",!0),((B=(x=t(s))==null?void 0:x.loginUserInfo)==null?void 0:B.permission)=="superAdmin"?(n(),i("td",qe,o(d.email),1)):a("",!0),((R=(N=t(s))==null?void 0:N.loginUserInfo)==null?void 0:R.permission)=="superAdmin"?(n(),i("td",xe,o(d.phone),1)):a("",!0),((z=(j=t(s))==null?void 0:j.loginUserInfo)==null?void 0:z.permission)=="superAdmin"?(n(),i("td",Be,o(t(fe).formatDate(d==null?void 0:d.createdAt,"YYYY-MM-DD HH:mm:ss")),1)):a("",!0),((Y=(O=t(s))==null?void 0:O.loginUserInfo)==null?void 0:Y.permission)=="superAdmin"?(n(),i("td",Ne,[l(Se,{user:d},null,8,["user"])])):a("",!0),r("td",null,[l(I,{class:"q-ml-xs",label:"Send Message",size:"sm",dense:"",color:"primary",onClick:J=>A(d._id)},null,8,["onClick"]),((E=(H=t(s))==null?void 0:H.loginUserInfo)==null?void 0:E.permission)=="superAdmin"?(n(),_e(I,{key:0,class:"q-ml-xs",label:e.$t("delete"),size:"sm",dense:"",color:"negative",onClick:J=>k(d.name[t(u).language])},null,8,["label","onClick"])):a("",!0)])],2)}),128))])]}),_:1})])]),_:1})])])]))}};export{Je as default};
