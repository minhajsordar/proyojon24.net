import{t as _,G as C,r as g,v as s,x as v,N as u,a as M,d as S,e as f,f as o,J as c,aA as m,A as x,z as d,Z as U,K as V,az as w}from"./index.c64f1b6d.js";s.title="Requesting To Server...";const k=_("moving text create Update store",()=>{const p=C(),e=g(null),l=g(null),t=g(null),r=async()=>{const i={method:"get",url:"api/movingtext",headers:{"Content-Type":"application/json"}};try{const a=await v.request(i);t.value=a.data,a.data.length>0&&(e.value=a.data[0].announcement,l.value=a.data[0].speed)}catch(a){console.log(a)}},y=()=>{t.value.length>0?T():h()},h=async()=>{const i={announcement:e.value,speed:l.value},a={method:"post",url:"api/movingtext",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.loginUserInfo.token}`},data:i};s.showLoader();try{const n=await v.request(a);t.value[0]=n.data,s.hideLoader(),u.create({message:"Successfully Created Moving Text",type:"positive",position:"center"})}catch(n){console.log(n),s.hideLoader(),u.create({message:"Failed to Create Moving Text",type:"negative",position:"center"})}},T=async()=>{const i={announcement:e.value,speed:l.value},a={method:"put",url:"api/movingtext/"+t.value[0]._id,headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.loginUserInfo.token}`},data:i};s.showLoader();try{const n=await v.request(a);t.value[0]=n.data,s.hideLoader(),u.create({message:"Successfully Updated Moving Text",type:"positive",position:"center"})}catch(n){console.log(n),s.hideLoader(),u.create({message:"Failed to Update Moving Text",type:"negative",position:"center"})}};return{movingTextData:t,movingText:e,getMovingText:r,updateMovingTextManager:y,speed:l}});const q={class:"flex justify-center"},A={class:"moving-text-controller-container q-pa-sm"},B=f("div",null,"Speed",-1),j={__name:"movingTextControl",setup(p){const e=k();return e.getMovingText(),(l,t)=>(M(),S("div",q,[f("div",A,[o(w,null,{default:c(()=>[o(m,null,{default:c(()=>[B,o(x,{modelValue:d(e).speed,"onUpdate:modelValue":t[0]||(t[0]=r=>d(e).speed=r),type:"number",outlined:"",dense:""},null,8,["modelValue"])]),_:1}),o(U),o(m,null,{default:c(()=>[o(x,{modelValue:d(e).movingText,"onUpdate:modelValue":t[1]||(t[1]=r=>d(e).movingText=r),type:"textarea",outlined:"",dense:"",rows:"30"},null,8,["modelValue"])]),_:1}),o(m,{class:"q-pt-none flex justify-end"},{default:c(()=>[o(V,{label:l.$t("update"),color:"primary",onClick:d(e).updateMovingTextManager},null,8,["label","onClick"])]),_:1})]),_:1})])]))}};export{j as default};
