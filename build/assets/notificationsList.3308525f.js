import{bp as y,I as v,y as C,a as i,d as r,e,f as l,K as d,P as o,L as u,z as n,_ as m,M as N,O as $,aA as L,B as Q,dt as B,Y as p,Z as S}from"./index.8b77cc09.js";import{Q as w}from"./QBadge.5668e89d.js";import{Q as M}from"./QMarkupTable.ea9d0693.js";import{u as T}from"./notificationStore.930793b2.js";import{u as q}from"./use-quasar.d06d2a7d.js";const z={class:"container-section-py-xs"},V={class:"inner-section"},E={class:"full-width"},I={class:"flex justify-between"},O={class:"fs-18"},P={class:"bg-blue-grey-2"},Y=["innerHTML"],A={key:0},H=["href"],R={__name:"notificationsList",setup(K){const{t:h}=y(),_=q(),g=v(),a=T();a.getNotificationList(),C.on("push_new_notification",(...t)=>{a.getNotificationList()});const b=t=>{a.notificationInfo.id=t,_.dialog({title:h("confirm"),message:"Are you sure? You want to delete this notification.",cancel:!0,persistent:!0}).onOk(()=>{a.deleteNotification(),console.log(">>>> OK")})};return(t,j)=>(i(),r("div",z,[e("div",V,[e("div",E,[l(L,{class:"border-primary q-pa-md"},{default:d(()=>[e("div",null,[e("div",I,[e("div",O,o(t.$t("headermenus.notification_list")),1),l(u,{class:"btn-h-22",color:"positive",label:t.$t("addnew"),icon:"add",dense:"",glossy:"",size:"sm",onClick:n(a).openCreateNotificationManager},null,8,["label","onClick"])]),l(m,{class:"q-my-sm"}),l(M,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:d(()=>{var f;return[e("thead",P,[e("tr",null,[e("th",null,o(t.$t("serial")),1),e("th",null,o(t.$t("notification.list")),1),e("th",null,o(t.$t("status")),1),e("th",null,o(t.$t("action")),1)])]),e("tbody",null,[(i(!0),r(N,null,$((f=n(a).notificationList)==null?void 0:f.notifications,(s,c)=>(i(),r("tr",{key:c,class:Q({"bg-blue-grey-1":c%2!=0})},[e("td",null,o(n(B)(String(c+1),n(g).language)),1),e("td",null,[p(o(s.title)+" ",1),l(m),e("div",{innerHTML:s.description},null,8,Y),s.link?(i(),r("div",A,[l(m),e("a",{href:s.link,target:"_blank"},o(s.link),9,H)])):S("",!0)]),e("td",null,[l(w,{color:s.published?"primary":"grey-8"},{default:d(()=>[p(o(s.published?"Published":"Not Published Yet"),1)]),_:2},1032,["color"])]),e("td",null,[l(u,{class:"q-ml-xs",label:t.$t("edit"),size:"sm",dense:"",color:"positive",onClick:k=>n(a).openEditNotificationManager(s)},null,8,["label","onClick"]),l(u,{class:"q-ml-xs",label:t.$t("delete"),size:"sm",dense:"",color:"negative",onClick:k=>b(s._id)},null,8,["label","onClick"])])],2))),128))])]}),_:1})])]),_:1})])])]))}};export{R as default};
