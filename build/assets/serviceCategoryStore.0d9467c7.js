import{s as A,t as K,u as M,G as P,r as v,ah as z,v as o,x as u,N as p}from"./index.f2577fb4.js";A("proyojonuserkey",{});const L=A("proyojonloginuser",{});o.title="Requesting To Server...";const O=K("service store",()=>{M(),P();const f=v(!1),y=v(!1),C=v(!1),g=v(null),I=v(null),m=v(1),h=v([{id:"demo service id",user:"demo service user",name:{bn:"demo service bn name",en:"demo service en name"},description:{bn:"demo service bn description",en:"demo service en description"},coverImage:"https://d1csarkz8obe9u.cloudfront.net/posterpreviews/cleaning-services-facebook-cover-design-template-11e0ad57b482437f05c97bce49fb2281_screen.jpg",icon:"https://banner2.cleanpng.com/20180823/wk/kisspng-computer-icons-service-user-travel-ims-an-amadeus-setting-svg-png-icon-free-download-1999-2-onl-5b7f0a40a5df71.0483892015350523526794.jpg",viewCount:0}]),n=z({id:null,user:null,name:{bn:null,en:null},description:{bn:null,en:null},coverImage:null,icon:null,order:1}),q=()=>{g.value=null,I.value=null,n.id=null,n.user=null,n.name={bn:null,en:null},n.description={bn:null,en:null},n.coverImage=null,n.icon=null,n.order=1},S=()=>{q(),f.value=!0},_=c=>{const a=["name","description","coverImage","icon","order"];y.value=!0,n.id=c==null?void 0:c._id,a.forEach((l,d)=>{n[l]=c[l]}),I.value={name:n.coverImage},g.value={name:n.icon}},D=c=>{const a=["name","description","coverImage","icon","order"];C.value=!0,n.id=c==null?void 0:c._id,a.forEach((l,d)=>{n[l]=c[l]})},e=v(1),b=async()=>{const c={pageNumber:e.value},a={method:"get",url:"api/services/",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L.value.token}`},params:c};o.showLoader();try{const l=await u.request(a);l.data.services.sort((d,T)=>d.order-T.order),h.value=l.data,o.hideLoader()}catch(l){console.log(l),p.create({position:"center",type:"negative",message:l.response.data.message}),o.hideLoader()}};return{openServiceEditDialog:y,openServiceCreateDialog:f,openServiceEditDialogManager:_,openServicePreviewDialog:C,openServicePreviewDialogManager:D,openServiceCreateDialogManager:S,paginationCurrent:m,servicePage:e,serviceList:h,serviceInfo:n,getServiceList:b,getAllServices:async()=>{const c={method:"get",url:"api/services/all",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L.value.token}`}};o.showLoader();try{const a=await u.request(c);a.data.sort((l,d)=>l.order-d.order),h.value.services=a.data,o.hideLoader()}catch(a){console.log(a),o.hideLoader()}},createService:async()=>{const c=n,a={method:"post",url:"api/services",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L.value.token}`},data:c};o.showLoader();try{const l=await u.request(a);f.value=!1,b(),o.hideLoader(),p.create({position:"center",type:"positive",message:"Service Created Successfully"})}catch(l){console.log(l),o.hideLoader(),p.create({position:"center",type:"negative",message:l.response.data.message})}},updateService:async()=>{const c=["name","description","coverImage","icon","viewCount","order"],a={};c.forEach((d,T)=>{n[d]instanceof Object?n[d].bn&&n[d].bn&&(a[d]=n[d]):n[d]&&(a[d]=n[d])});const l={method:"put",url:"api/services/"+n.id,headers:{"Content-Type":"application/json",Authorization:`Bearer ${L.value.token}`},data:a};o.showLoader();try{const d=await u.request(l);y.value=!1,b(),o.hideLoader()}catch(d){console.log(d),p.create({position:"center",type:"negative",message:d.response.data.message}),o.hideLoader()}},deleteService:async()=>{const c={method:"delete",url:"api/services/"+n.id,headers:{"Content-Type":"application/json",Authorization:`Bearer ${L.value.token}`}};o.showLoader();try{const a=await u.request(c);b(),o.hideLoader()}catch(a){console.log(a),p.create({position:"center",type:"negative",message:a.response.data.message}),o.hideLoader()}},imageIcon:g,imageCover:I,uploadIcon:async()=>{if(!g.value||typeof g.value=="string")return;n.icon;const c={method:"post",url:"api/upload",headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${L.value.token}`},data:{image:g.value}};try{const a=await u.request(c);n.icon=a.data}catch(a){console.log(a),p.create({position:"center",type:"negative",message:a.response.data.message})}}}});A("proyojonuserkey",{});const w=A("proyojonloginuser",{});o.title="Requesting To Server...";const U=K("service category store",()=>{M(),P();const f=O(),y=v(!1),C=v(!1),g=v(!1),I=v(1),m=v(null),h=v(null),n=v(null),q=z({name:{bn:null,en:null},_id:null}),S=v(null),_=v(null),D=v([{id:"demo service id",user:"demo service user",name:{bn:"demo service bn name",en:"demo service en name"},description:{bn:"demo service bn description",en:"demo service en description"},coverImage:"https://d1csarkz8obe9u.cloudfront.net/posterpreviews/cleaning-services-facebook-cover-design-template-11e0ad57b482437f05c97bce49fb2281_screen.jpg",icon:"https://banner2.cleanpng.com/20180823/wk/kisspng-computer-icons-service-user-travel-ims-an-amadeus-setting-svg-png-icon-free-download-1999-2-onl-5b7f0a40a5df71.0483892015350523526794.jpg",viewCount:0}]),e=z({id:null,user:null,name:{bn:null,en:null},description:{bn:null,en:null},coverImage:null,service:null,icon:null,order:1}),b=()=>{m.value=null,h.value=null,e.id=null,e.user=null,e.service=null,e.name={bn:null,en:null},e.description={bn:null,en:null},e.coverImage=null,e.icon=null,e.order=1},$=()=>{b(),y.value=!0},E=t=>{const r=["name","service","coverImage","icon","order"];C.value=!0,e.id=t==null?void 0:t._id,r.forEach((s,i)=>{e[s]=t[s]}),e.service=f.serviceList.services.filter(s=>s._id==e.service)[0],h.value={name:e.coverImage},m.value={name:e.icon}},x=t=>{const r=["name","service","coverImage","icon","order"];g.value=!0,e.id=t==null?void 0:t._id,r.forEach((s,i)=>{e[s]=t[s]}),e.service=f.serviceList.services.filter(s=>s._id==e.service)[0]},B=v(1),j=async()=>{const t={pageNumber:B.value};S.value&&(t.serviceId=S.value._id);const r={method:"get",url:"api/service_categorys/",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w.value.token}`},params:t};o.showLoader();try{const s=await u.request(r);s.data.serviceCategorys.sort((i,k)=>i.order-k.order),D.value=s.data,o.hideLoader()}catch(s){console.log(s),o.hideLoader()}};return{openServiceCategoryEditDialog:C,openServiceCategoryEditDialogManager:E,openServiceCategoryPreviewDialog:g,openServiceCategoryPreviewDialogManager:x,openServiceCategoryCreateDialog:y,openServiceCategoryCreateDialogManager:$,paginationCurrent:I,selectedServiceCategory:q,allServiceCategoryList:_,serviceCategoryList:D,serviceCategoryInfo:e,serviceCategoryPage:B,getServiceCategoryList:j,getAllServiceCategorys:async t=>{const r={};t&&(r.serviceId=t);const s={method:"get",url:"api/service_categorys/all",headers:{"Content-Type":"application/json"},params:r};o.showLoader();try{const i=await u.request(s);i.data.sort((k,N)=>k.order-N.order),_.value=i.data,o.hideLoader()}catch(i){console.log(i),o.hideLoader()}},createServiceCategory:async()=>{e.service instanceof Object&&(e.service=e.service._id);const t=e,r={method:"post",url:"api/service_categorys",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w.value.token}`},data:t};o.showLoader();try{const s=await u.request(r);y.value=!1,j(),o.hideLoader(),p.create({position:"center",type:"positive",message:"Service Category Created Successfully"})}catch(s){console.log(s),o.hideLoader(),p.create({position:"center",type:"negative",message:s.response.data.message})}},updateServiceCategory:async()=>{const t=["name","service","coverImage","icon","order"],r={};t.forEach((i,k)=>{e[i]instanceof Object?e[i].bn&&e[i].bn&&(r[i]=e[i]):e[i]&&(r[i]=e[i])}),e.service instanceof Object&&(r.service=e.service._id);const s={method:"put",url:"api/service_categorys/"+e.id,headers:{"Content-Type":"application/json",Authorization:`Bearer ${w.value.token}`},data:r};o.showLoader();try{const i=await u.request(s);C.value=!1,j(),o.hideLoader()}catch(i){console.log(i),p.create({position:"center",type:"negative",message:i.response.data.message}),o.hideLoader()}},deleteServiceCategory:async()=>{const t={method:"delete",url:"api/service_categorys/"+e.id,headers:{"Content-Type":"application/json",Authorization:`Bearer ${w.value.token}`}};o.showLoader();try{const r=await u.request(t);j(),o.hideLoader()}catch(r){console.log(r),p.create({position:"center",type:"negative",message:r.response.data.message}),o.hideLoader()}},imageIcon:m,imageCover:h,uploadIcon:async()=>{if(!m.value||typeof m.value=="string")return;e.icon;const t={method:"post",url:"api/upload",headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${w.value.token}`},data:{image:m.value}};try{const r=await u.request(t);e.icon=r.data}catch(r){console.log(r),p.create({position:"center",type:"negative",message:r.response.data.message})}},selectedService:n,filteredByServiseId:S,getFilteredServiceCategoryByService:async()=>{const t={method:"get",url:"api/service_categorys/service/"+S.value._id,headers:{"Content-Type":"application/json",Authorization:`Bearer ${w.value.token}`}};o.showLoader();try{const r=await u.request(t);r.data.serviceCategorys.sort((s,i)=>s.order-i.order),D.value=r.data,o.hideLoader()}catch(r){console.log(r),o.hideLoader()}}}});export{U as a,O as u};
