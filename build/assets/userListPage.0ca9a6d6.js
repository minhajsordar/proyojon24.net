import{r as K,m as G,a as n,d as i,f as l,q as f,cv as W,I as X,B as o,$ as Z,e as r,x as I,G as ee,dq as se,bf as te,a0 as oe,dt as ne,F as ie,o as re,A as ae,y as t,C as a,K as le,bj as ue,s as de,u as me,H as ce,dr as pe,a3 as fe,p as _e}from"./index.9c7f7a59.js";import{Q as ge}from"./QMarkupTable.537cd0c8.js";import{u as he}from"./use-quasar.284cf7f0.js";import{u as ye}from"./use-meta.fe522d9f.js";import{Q as ve,a as E}from"./QItemLabel.d0704860.js";import{a as be}from"./QSelect.9e4515c4.js";/* empty css                                                                   */import{_ as ke}from"./plugin-vue_export-helper.21dcd24c.js";import"./QChip.561196ba.js";import"./position-engine.f3b41267.js";const Ue={class:"flex justify-between items-center permission-width"},Ae={__name:"userPermission",props:{user:{type:Object}},setup(w){const m=w,v=[{label:"Super Admin",value:"superAdmin"},{label:"Admin",value:"admin"},{label:"Division Admin",value:"division"},{label:"District Admin",value:"district"},{label:"Sub District Admin",value:"subDistrict"},{label:"Union Admin",value:"union"},{label:"None",value:"self"}],s=K(v.filter(c=>c.value==m.user.permission)[0]),U=G(),_=()=>{s.value.value&&U.updateUserPermission(m.user._id,s.value.value)};return(c,b)=>(n(),i("div",Ue,[l(be,{modelValue:s.value,"onUpdate:modelValue":b[0]||(b[0]=u=>s.value=u),options:v,"option-label":u=>u===null?"Null value":u.label,dense:"",outlined:"","options-dense":"",style:{width:"220px"}},{option:f(({itemProps:u,opt:k,selected:A,toggleOption:C})=>[l(ve,W(u,{class:"flex justify-between",style:{"border-top":"1px solid rgba(0, 0, 0, 0.12)"}}),{default:f(()=>[l(E,{side:""},{default:f(()=>[X(o(k.label),1)]),_:2},1024),l(E,{side:""},{default:f(()=>[l(Z,{"model-value":A,"onUpdate:modelValue":e=>C(k),size:"sm"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","option-label"]),r("div",null,[l(I,{class:"q-ml-md",label:c.$t("confirm"),size:"sm",dense:"",color:"positive",onClick:_},null,8,["label"])])]))}};var $e=ke(Ae,[["__scopeId","data-v-1382aedc"]]);const Se={class:"container-section-py-xs"},Ie={class:"inner-section"},we={class:"full-width"},Ce={class:"fs-18"},Qe={class:"bg-blue-grey-2"},qe={key:0},De={key:1},Le={key:2},Pe={key:3},Te={key:4},xe={key:0,style:{width:"300px"}},Ve={key:1,style:{width:"300px"}},je={key:2,style:{width:"300px"}},Me={key:3,style:{width:"300px"}},Ne={key:4,style:{width:"300px"}},Je={__name:"userListPage",setup(w){ee("myrooms",{});const m=se(),v=me(),s=G(),U=he(),{t:_}=te(),c=oe(),{userList:b}=ne(c),u=ie();K("self");const k=e=>{U.dialog({title:_("confirm"),message:_("confirm_delete_start")+e+_("confirm_delete_end"),cancel:!0,persistent:!0}).onOk(()=>{console.log(">>>> OK")})},A=e=>{var $,g,h,y;if(s.loginUserInfo==null){Notify.create({position:"center",type:"negative",message:"Please login first"});return}if(m.myRoomList){for(let p of m.myRoomList.rooms)if(((g=($=p.participants[0])==null?void 0:$.user)==null?void 0:g._id)==e||((y=(h=p.participants[1])==null?void 0:h.user)==null?void 0:y._id)==e){v.push("direct_message/"+p._id);return}}m.createRoom(e)};return re(()=>{s.checkLogin(),c.getUserList()}),ye({title:"User List",titleTemplate:e=>`${e} - Proyojon24.net`,meta:{description:{name:"description",content:"Page 1"},keywords:{name:"keywords",content:"proyojon24 services service-provider"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"},ogTitle:{property:"og:title",template(e){return`${e} - Proyojon24.net`}}}}),(e,$)=>(n(),i("div",Se,[r("div",Ie,[r("div",we,[l(de,{class:"border-primary q-pa-md"},{default:f(()=>[r("div",null,[r("div",Ce,o(e.$t("headermenus.users")),1),l(ae,{class:"q-my-sm"}),l(ge,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:f(()=>{var g,h,y,p,Q,q,D,L,P,T;return[r("thead",Qe,[r("tr",null,[r("th",null,o(e.$t("serial")),1),r("th",null,o(e.$t("name")),1),((h=(g=t(s))==null?void 0:g.loginUserInfo)==null?void 0:h.permission)=="superAdmin"?(n(),i("th",qe,o(e.$t("registration_no")),1)):a("",!0),((p=(y=t(s))==null?void 0:y.loginUserInfo)==null?void 0:p.permission)=="superAdmin"?(n(),i("th",De,o(e.$t("email")),1)):a("",!0),((q=(Q=t(s))==null?void 0:Q.loginUserInfo)==null?void 0:q.permission)=="superAdmin"?(n(),i("th",Le,o(e.$t("phone")),1)):a("",!0),((L=(D=t(s))==null?void 0:D.loginUserInfo)==null?void 0:L.permission)=="superAdmin"?(n(),i("th",Pe,o(e.$t("joined_date")),1)):a("",!0),((T=(P=t(s))==null?void 0:P.loginUserInfo)==null?void 0:T.permission)=="superAdmin"?(n(),i("th",Te,o(e.$t("permission")),1)):a("",!0),r("th",null,o(e.$t("action")),1)])]),r("tbody",null,[(n(!0),i(le,null,ue(t(b).users,(d,S)=>{var x,V,j,M,N,B,R,z,Y,F,H,O;return n(),i("tr",{key:S,class:ce({"bg-blue-grey-1":S%2!=0})},[r("td",null,o(t(pe)(String(S+1),t(u).language)),1),r("td",null,o(d.name[t(u).language])+" ",1),((V=(x=t(s))==null?void 0:x.loginUserInfo)==null?void 0:V.permission)=="superAdmin"?(n(),i("td",xe,o(d.registrationNo),1)):a("",!0),((M=(j=t(s))==null?void 0:j.loginUserInfo)==null?void 0:M.permission)=="superAdmin"?(n(),i("td",Ve,o(d.email),1)):a("",!0),((B=(N=t(s))==null?void 0:N.loginUserInfo)==null?void 0:B.permission)=="superAdmin"?(n(),i("td",je,o(d.phone),1)):a("",!0),((z=(R=t(s))==null?void 0:R.loginUserInfo)==null?void 0:z.permission)=="superAdmin"?(n(),i("td",Me,o(t(fe).formatDate(d==null?void 0:d.createdAt,"YYYY-MM-DD HH:mm:ss")),1)):a("",!0),((F=(Y=t(s))==null?void 0:Y.loginUserInfo)==null?void 0:F.permission)=="superAdmin"?(n(),i("td",Ne,[l($e,{user:d},null,8,["user"])])):a("",!0),r("td",null,[l(I,{class:"q-ml-xs",label:"Send Message",size:"sm",dense:"",color:"primary",onClick:J=>A(d._id)},null,8,["onClick"]),((O=(H=t(s))==null?void 0:H.loginUserInfo)==null?void 0:O.permission)=="superAdmin"?(n(),_e(I,{key:0,class:"q-ml-xs",label:e.$t("delete"),size:"sm",dense:"",color:"negative",onClick:J=>k(d.name[t(u).language])},null,8,["label","onClick"])):a("",!0)])],2)}),128))])]}),_:1})])]),_:1})])])]))}};export{Je as default};
