import{s as c,t as g,bp as h,u as f,I as y,H as w,r as b,ai as N,v as o,x as v,br as S,N as I,ds as k}from"./index.237ffea5.js";import{u as A}from"./verifyPhone.fd098b97.js";c("proyojonuserkey",{});const u=c("proyojonloginuser",{}),U=c("myrooms",{});o.title="Requesting To Server...";const V=200,L={origin:{y:.7}};function r(n,s){k(Object.assign({},L,s,{particleCount:Math.floor(V*n)}))}const D=g("register store",()=>{const n=A(),{t:s}=h(),l=f(),p=y(),i=w(),d=b(null),e=N({name:{bn:null,en:null},username:null,phone:null,email:null,password:null,password2:null,bankAccountName:"",phoneNumber:"",transactionId:"",amount:0,reference:null});return{newUserInfo:e,matchPassword:()=>e.password==e.password2?!0:"Password Not Matched",nidImage:d,registerNewUser:async()=>{const t={name:e.name,phone:e.phone,username:e.username,email:e.email,password:e.password,reference:e.reference};e.bankAccountName&&e.phoneNumber&&e.transactionId&&e.amount&&(t.bankAccountName=e.bankAccountName,t.phoneNumber=e.phoneNumber,t.transactionId=e.transactionId,t.amount=e.amount);const m={method:"post",url:"api/users/register",headers:{"Content-Type":"application/json"},data:t};o.showLoader();try{const a=await v.request(m);o.hideLoader(),r(.25,{spread:26,startVelocity:55}),r(.2,{spread:60}),r(.35,{spread:100,decay:.91,scalar:.8}),r(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),r(.1,{spread:120,startVelocity:45}),S.create({title:s("register_success"),message:s("create_service_provider"),ok:{push:!0},cancel:{push:!0,color:"negative"},persistent:!0}).onOk(()=>{i.loginUserInfo=a.data,u.value=a.data,u.value=a.data,i.isAuthorized=!0,i.rememberUserData(),p.switchToBn(),U.value=null,n.getOtpVerificationCodeWhileRegistration()}).onCancel(()=>{l.push("/login")})}catch(a){console.log(a),o.hideLoader(),I.create({position:"center",type:"negative",message:a.response.data.message})}}}});export{D as u};
