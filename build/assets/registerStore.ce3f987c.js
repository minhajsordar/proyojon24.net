import{s as i,t as g,bp as h,u as f,I as y,H as w,r as v,ai as S,v as a,x as b,br as N,N as I,ds as U}from"./index.a05bfe72.js";import{u as V}from"./verifyPhone.f07fb7bc.js";i("proyojonuserkey",{});const c=i("proyojonloginuser",{}),L=i("myrooms",{});a.title="Requesting To Server...";const R=200,j={origin:{y:.7}};function r(o,t){U(Object.assign({},j,t,{particleCount:Math.floor(R*o)}))}const D=g("register store",()=>{const o=V(),{t}=h(),u=f(),l=y(),n=w(),p=v(null),e=S({name:{bn:null,en:null},username:null,phone:null,email:null,password:null,password2:null,bankAccountName:"",phoneNumber:"",transactionId:"",amount:0,reference:null});return{newUserInfo:e,matchPassword:()=>e.password==e.password2?!0:"Password Not Matched",nidImage:p,registerNewUser:async()=>{const d={name:e.name,phone:e.phone,username:e.username,email:e.email,password:e.password,reference:e.reference},m={method:"post",url:"api/users/register",headers:{"Content-Type":"application/json"},data:d};a.showLoader();try{const s=await b.request(m);a.hideLoader(),r(.25,{spread:26,startVelocity:55}),r(.2,{spread:60}),r(.35,{spread:100,decay:.91,scalar:.8}),r(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),r(.1,{spread:120,startVelocity:45}),N.create({title:t("register_success"),message:t("create_service_provider"),ok:{push:!0},cancel:{push:!0,color:"negative"},persistent:!0}).onOk(()=>{n.loginUserInfo=s.data,c.value=s.data,c.value=s.data,n.isAuthorized=!0,n.rememberUserData(),l.switchToBn(),L.value=null,o.getOtpVerificationCodeWhileRegistration()}).onCancel(()=>{u.push("/login")})}catch(s){console.log(s),a.hideLoader(),I.create({position:"center",type:"negative",message:s.response.data.message})}}}});export{D as u};
