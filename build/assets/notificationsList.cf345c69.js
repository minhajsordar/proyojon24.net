import{bs as y,H as v,y as C,a as i,d as r,e,f as l,J as d,O as a,K as u,z as n,Z as m,L as N,M as $,az as L,B as Q,dw as w,X as p,Y as B}from"./index.98f545c8.js";import{Q as S}from"./QBadge.f718d983.js";import{Q as z}from"./QMarkupTable.f6a05e30.js";import{u as M}from"./notificationStore.4c0c92fa.js";import{u as T}from"./use-quasar.483070a3.js";const q={class:"container-section-py-xs"},V={class:"inner-section"},E={class:"full-width"},H={class:"flex justify-between"},O={class:"fs-18"},Y={class:"bg-blue-grey-2"},I=["innerHTML"],K={key:0},P=["href"],G={__name:"notificationsList",setup(j){const{t:g}=y(),h=T(),_=v(),o=M();o.getNotificationList(),C.on("push_new_notification",(...t)=>{o.getNotificationList()});const b=t=>{o.notificationInfo.id=t,h.dialog({title:g("confirm"),message:"Are you sure? You want to delete this notification.",cancel:!0,persistent:!0}).onOk(()=>{o.deleteNotification(),console.log(">>>> OK")})};return(t,A)=>(i(),r("div",q,[e("div",V,[e("div",E,[l(L,{class:"border-primary q-pa-md"},{default:d(()=>[e("div",null,[e("div",H,[e("div",O,a(t.$t("headermenus.pending_list")),1),l(u,{class:"btn-h-22",color:"positive",label:t.$t("addnew"),icon:"add",dense:"",glossy:"",size:"sm",onClick:n(o).openCreateNotificationManager},null,8,["label","onClick"])]),l(m,{class:"q-my-sm"}),l(z,{flat:"",bordered:"",separator:"cell",class:"text-left"},{default:d(()=>{var f;return[e("thead",Y,[e("tr",null,[e("th",null,a(t.$t("serial")),1),e("th",null,a(t.$t("notification.list")),1),e("th",null,a(t.$t("status")),1),e("th",null,a(t.$t("action")),1)])]),e("tbody",null,[(i(!0),r(N,null,$((f=n(o).notificationList)==null?void 0:f.notifications,(s,c)=>(i(),r("tr",{key:c,class:Q({"bg-blue-grey-1":c%2!=0})},[e("td",null,a(n(w)(String(c+1),n(_).language)),1),e("td",null,[p(a(s.title)+" ",1),l(m),e("div",{innerHTML:s.description},null,8,I),s.link?(i(),r("div",K,[l(m),e("a",{href:s.link,target:"_blank"},a(s.link),9,P)])):B("",!0)]),e("td",null,[l(S,{color:s.published?"primary":"grey-8"},{default:d(()=>[p(a(s.published?"Published":"Not Published Yet"),1)]),_:2},1032,["color"])]),e("td",null,[l(u,{class:"q-ml-xs",label:t.$t("edit"),size:"sm",dense:"",color:"positive",onClick:k=>n(o).openEditNotificationManager(s)},null,8,["label","onClick"]),l(u,{class:"q-ml-xs",label:t.$t("delete"),size:"sm",dense:"",color:"negative",onClick:k=>b(s._id)},null,8,["label","onClick"])])],2))),128))])]}),_:1})])]),_:1})])])]))}};export{G as default};
